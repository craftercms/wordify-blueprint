{"version":3,"sources":["components/Bio.js","pages/Search.js","shared/SidebarBios.js"],"names":["Bio","props","model","linkButtonText_s","showLinkButton_b","facebookLink_s","twitterLink_s","instagramLink_s","youTubeLink_s","className","component","renderTarget","fieldId","alt","href","target","rel","SearchResults","resource","paginationData","onPageChange","read","hits","total","totalResults","value","pageCount","Math","ceil","itemsPerPage","map","post","format","LANDSCAPE","craftercms","id","index","Search","levelDescriptor","meta","useState","currentPage","setPaginationData","useUrlSearchQueryFetchResource","history","useHistory","useSearchQuery","query","defaultMessage","fallback","screenHeight","page","push","pathname","search","SidebarBiosWithICE","bios","bio"],"mappings":"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","file":"static/js/8.9c07f483.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Field, RenderField } from '@craftercms/experience-builder/react';\n\nfunction Bio(props) {\n  const {\n    model,\n    model: {\n      linkButtonText_s,\n      showLinkButton_b,\n      facebookLink_s,\n      twitterLink_s,\n      instagramLink_s,\n      youTubeLink_s\n    }\n  } = props;\n  return (\n    <Field className=\"bio text-center\" model={model}>\n      <RenderField\n        component=\"img\"\n        renderTarget=\"src\"\n        model={model}\n        fieldId=\"profilePic_s\"\n        className=\"img-fluid\"\n        alt=\"\"\n      />\n      <div className=\"bio-body\">\n        <RenderField component=\"h2\" model={model} fieldId=\"name_s\" />\n        {\n          showLinkButton_b &&\n          linkButtonText_s &&\n          <p>\n            <RenderField\n              component=\"a\"\n              model={model}\n              fieldId=\"linkButtonText_s,linkButtonUrl_s\"\n              renderTarget=\"children,href\"\n              className=\"btn btn-primary btn-sm rounded bio-link\"\n            />\n          </p>\n        }\n        <RenderField component=\"p\" model={model} fieldId=\"bio_t\" />\n        <p className=\"social\">\n          {\n            facebookLink_s &&\n            <a href={facebookLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <span className=\"fa fa-facebook\" />\n            </a>\n          }\n          {\n            twitterLink_s &&\n            <a href={twitterLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <span className=\"fa fa-twitter\" />\n            </a>\n          }\n          {\n            instagramLink_s &&\n            <a href={instagramLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <span className=\"fa fa-instagram\" />\n            </a>\n          }\n          {\n            youTubeLink_s &&\n            <a href={youTubeLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <span className=\"fa fa-youtube-play\" />\n            </a>\n          }\n        </p>\n      </div>\n    </Field>\n  );\n}\n\nexport default Bio;\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Suspense, useState } from 'react';\nimport BaseLayout from '../shared/BaseLayout';\nimport { FormattedMessage } from 'react-intl';\nimport SidebarSearch from '../shared/SidebarSearch';\nimport RecentPostsAside from '../shared/RecentPostsAside';\nimport { SidebarCategories, SidebarTags } from '../shared/SidebarTaxonomies';\nimport { useSearchQuery, useUrlSearchQueryFetchResource } from '../shared/hooks';\nimport CircularProgressSpinner from '../shared/CircularProgressSpinner';\nimport PostCard, { LANDSCAPE } from '../shared/PostCard';\nimport { useHistory } from 'react-router-dom'\nimport { SidebarBiosWithICE } from '../shared/SidebarBios';\nimport Paginate from '../shared/Paginate';\n\nfunction SearchResults({ resource, paginationData, onPageChange }) {\n  const { hits, total } = resource.read();\n\n  const totalResults = typeof total === 'object' ? total.value : total;\n  const pageCount = Math.ceil(totalResults/paginationData.itemsPerPage);\n  return (\n    <>\n      <p>{totalResults} result{totalResults === 0 || totalResults > 1 ? 's' : ''} found.</p>\n      {\n        hits.map((post) =>\n          <PostCard key={post.craftercms.id} model={post} format={LANDSCAPE} />\n        )\n      }\n\n      {\n        pageCount > 1 &&\n        <div className=\"col-md-12 text-center mt-5\">\n          <Paginate\n            pageCount={pageCount}\n            onPageChange={(index) => onPageChange(index * paginationData.itemsPerPage)}\n          />\n        </div>\n      }\n    </>\n  );\n}\n\nfunction Search(props) {\n  const {\n    model,\n    meta: {\n      levelDescriptor\n    }\n  } = props;\n  const [paginationData, setPaginationData] = useState({\n    itemsPerPage: 10,\n    currentPage: 0\n  });\n  let resource = useUrlSearchQueryFetchResource(paginationData.itemsPerPage);\n\n  const history = useHistory();\n  const [query] = useSearchQuery();\n\n  const onPageChange = (page) => {\n    setPaginationData({ ...paginationData, currentPage: page})\n    history.push({\n      pathname: '/search',\n      search: `?q=${query}&p=${page}`\n    });\n  }\n\n  return (\n    <BaseLayout model={levelDescriptor}>\n      <section className=\"site-section pt-5 py-sm\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <h2 className=\"mb-4\">\n                <FormattedMessage\n                  id=\"common.latestPostSectionTitle\"\n                  defaultMessage=\"Search Results\"\n                />\n              </h2>\n            </div>\n          </div>\n          <div className=\"row blog-entries\">\n            <div className=\"col-md-12 col-lg-8 main-content\">\n              <div className=\"row\">\n                <Suspense fallback={<CircularProgressSpinner screenHeight={false} />}>\n                  <SearchResults\n                    resource={resource}\n                    paginationData={paginationData}\n                    onPageChange={onPageChange}\n                  />\n                </Suspense>\n              </div>\n            </div>\n            <div className=\"col-md-12 col-lg-4 sidebar\">\n\n              <SidebarSearch />\n\n              <SidebarBiosWithICE model={model} fieldId=\"bios_o\" />\n\n              <RecentPostsAside />\n\n              <SidebarCategories />\n\n              <SidebarTags />\n\n            </div>\n          </div>\n        </div>\n      </section>\n    </BaseLayout>\n  );\n}\n\nexport default Search;","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport Bio from '../components/Bio';\nimport { Field, RenderField } from '@craftercms/experience-builder/react';\n\nfunction SidebarBios(props) {\n  const { bios } = props;\n  return (\n    <>\n      {\n        bios?.map(bio =>\n          <div key={bio.craftercms.id} className=\"sidebar-box\">\n            <Bio model={bio} />\n          </div>\n        )\n      }\n    </>\n  );\n}\n\nexport function SidebarBiosWithICE(props) {\n  const { model, fieldId } = props;\n  return (\n    <RenderField\n      model={model}\n      fieldId={fieldId}\n      className=\"bio-zone\"\n      format={(bios) => bios?.map((bio, index) =>\n        <Field\n          key={`${bio.craftercms.id}_${index}`}\n          model={model}\n          fieldId={fieldId}\n          index={index}\n          className=\"sidebar-box\"\n        >\n          <Bio model={bio} />\n        </Field>\n      )}\n    />\n  );\n}\n\nexport default SidebarBios;"],"sourceRoot":""}