{"version":3,"sources":["components/Bio.js","shared/SidebarBios.js","shared/DropZone.js","shared/Comments.js","pages/Post.js"],"names":["props","ice","model","bio_t","name_s","profilePic_s","linkButtonText_s","linkButtonUrl_s","showLinkButton_b","facebookLink_s","twitterLink_s","instagramLink_s","youTubeLink_s","className","src","alt","href","target","rel","SidebarBio","bio","usePencil","bios","map","key","craftercms","id","useDnD","component","Component","cleanProps","fieldId","CommentsCount","websiteShortname","useEffect","document","getElementById","d","s","createElement","async","body","appendChild","data-disqus-identifier","data-disqus-url","window","location","origin","Comments","DISQUS","reset","reload","config","disqus_config","this","page","url","identifier","setAttribute","Date","posts","meta","siteTitle","socialLinks","disqus","formatDate","useIntl","modelPath","path","useState","itemsPerPage","currentPage","paginationData","setPaginationData","related","usePosts","categories_o","tags_o","BaseLayout","mainImage_s","authorBio_o","dateCreated","headline_s","category","value_smv","DropZone","content_o","ContentType","parentModelId","i","length","tag","SidebarSearch","SidebarBios","RecentPostsAside","items","post","PostCard","format","IMAGE_BACKGROUND","classes","root","pageCount","aria-label","Paginate","onPageChange","index"],"mappings":"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","file":"static/js/7.6877272d.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function (props) {\n  const {\n    ice,\n    model: {\n      // craftercms: {\n      //   id,\n      //   contentTypeId,\n      //   label,\n      //   path,\n      // },\n      bio_t,\n      name_s,\n      profilePic_s,\n      linkButtonText_s,\n      linkButtonUrl_s,\n      showLinkButton_b,\n      facebookLink_s,\n      twitterLink_s,\n      instagramLink_s,\n      youTubeLink_s\n    }\n  } = props;\n  return (\n    <>\n      <div className=\"bio text-center\" {...ice}>\n        <img src={profilePic_s} alt=\"\" className=\"img-fluid\" />\n        <div className=\"bio-body\">\n          <h2>{name_s}</h2>\n          <p>{bio_t}</p>\n          {\n            showLinkButton_b &&\n            <p>\n              <a href={linkButtonUrl_s} className=\"btn btn-primary btn-sm rounded\">\n                {linkButtonText_s}\n              </a>\n            </p>\n          }\n          <p className=\"social\">\n            {\n              facebookLink_s &&\n              <a href={facebookLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-facebook\" />\n              </a>\n            }\n            {\n              twitterLink_s &&\n              <a href={twitterLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-twitter\" />\n              </a>\n            }\n            {\n              instagramLink_s &&\n              <a href={instagramLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-instagram\" />\n              </a>\n            }\n            {\n              youTubeLink_s &&\n              <a href={youTubeLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-youtube-play\" />\n              </a>\n            }\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport Bio from '../components/Bio';\nimport { usePencil } from './hooks';\n\nexport default function (props) {\n  const { bios } = props;\n  return (\n    <>\n      {\n        bios?.map(bio => <SidebarBio key={bio.craftercms.id} model={bio} />)\n      }\n    </>\n  );\n}\n\nfunction SidebarBio(props) {\n  const bio = props.model;\n  const ice = usePencil(props);\n  return (\n    <div className=\"sidebar-box\">\n      <Bio ice={ice} model={bio} />\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useDnD } from './hooks';\nimport React from 'react';\n\nexport default function (props) {\n  const ice = useDnD(props);\n  const { component: Component = 'div' } = props;\n  const cleanProps = { ...props };\n  delete cleanProps.model;\n  delete cleanProps.component;\n  delete cleanProps.fieldId;\n  return <Component {...ice} {...cleanProps} />;\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect } from 'react'\n\nconst Comments = ({ id, websiteShortname }) => {\n  useEffect(() => {\n    const DISQUS_SCRIPT = 'disq_script';\n    const sd = document.getElementById(DISQUS_SCRIPT);\n    if (!sd) {\n      var disqus_config = function() {\n        this.page.url = window.location.origin\n        this.page.identifier = id\n      }\n\n      const d = document;\n      const s = d.createElement('script');\n      s.src = `https://${websiteShortname??'DISQUS'}.disqus.com/embed.js`;\n      s.id = DISQUS_SCRIPT;\n      s.async = true;\n      s.setAttribute('data-timestamp', + new Date());\n\n      d.body.appendChild(s);\n    } else {\n      window.DISQUS.reset({\n        reload: true,\n        config: disqus_config,\n      });\n    }\n  }, [id, websiteShortname])\n  return <div id=\"disqus_thread\" className=\"mt-5\" />;\n}\n\nexport const CommentsCount = ({ id, websiteShortname }) => {\n  useEffect(() => {\n    const DISQUS_COUNT_SCRIPT = 'dsq-count-scr';\n    const disqusCountEl = document.getElementById(DISQUS_COUNT_SCRIPT);\n\n    if (!disqusCountEl){\n      const d = document;\n      const s = d.createElement('script');\n      s.src = `https://${websiteShortname??'DISQUS'}.disqus.com/count.js`;\n      s.id = DISQUS_COUNT_SCRIPT;\n      s.async = true;\n\n      d.body.appendChild(s);\n    }\n  }, [id, websiteShortname]);\n\n  return <span className=\"disqus-comment-count\" data-disqus-identifier={id} data-disqus-url={window.location.origin} />\n}\n\nexport default Comments","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport BaseLayout from '../shared/BaseLayout';\nimport ContentType from '../shared/ContentType';\nimport RecentPostsAside from '../shared/RecentPostsAside';\nimport PostCard, { IMAGE_BACKGROUND } from '../shared/PostCard';\nimport { SidebarCategories, SidebarTags } from '../shared/SidebarTaxonomies';\nimport SidebarSearch from '../shared/SidebarSearch';\nimport SidebarBios from '../shared/SidebarBios';\nimport DropZone from '../shared/DropZone';\nimport Comments, { CommentsCount } from '../shared/Comments';\nimport { useIntl } from 'react-intl';\nimport Paginate from '../shared/Paginate';\nimport { usePosts } from '../shared/hooks';\n\nexport default function (props) {\n  const {\n    model,\n    posts,\n    meta: {\n      siteTitle,\n      socialLinks,\n      disqus: {\n        websiteShortname\n      }\n    }\n  } = props;\n  const { formatDate } = useIntl();\n  const modelPath = model.craftercms.path;\n  const [paginationData, setPaginationData] = useState({\n    itemsPerPage: 10,\n    currentPage: 0\n  });\n  const related = usePosts(paginationData, model.categories_o, model.tags_o, model.craftercms.path);\n\n  return (\n    <BaseLayout siteTitle={siteTitle} socialLinks={socialLinks}>\n      <section className=\"site-section py-lg\">\n        <div className=\"container\">\n          <div className=\"row blog-entries element-animate-disabled\">\n\n            <div className=\"col-md-12 col-lg-8 main-content\">\n              <img src={model.mainImage_s} alt=\"\" className=\"img-fluid mb-5\" />\n              <div className=\"post-meta\">\n                <span className=\"author mr-2\">\n                  <img src={model.authorBio_o[0].profilePic_s} alt=\"\" className=\"mr-2\" /> {model.authorBio_o[0].name_s}\n                </span>\n                {' • '}<span className=\"mr-2\">{formatDate(model.craftercms.dateCreated)}</span>\n                {' • '}<span className=\"ml-2\">\n                <span className=\"fa fa-comments mr-2\"/></span>\n\n                <CommentsCount id={model.craftercms.id} websiteShortname={websiteShortname} />\n              </div>\n              <h1 className=\"mb-4\">{model.headline_s}</h1>\n              {\n                model.categories_o?.map(category =>\n                  <a className=\"category mb-5\" href={`/category/${category.key}`} key={category.key}>{category.value_smv}</a>\n                )\n              }\n\n              <DropZone\n                model={model}\n                component=\"div\"\n                fieldId=\"content_o\"\n                className=\"post-content-body\"\n              >\n                {\n                  model.content_o?.map(component =>\n                    <ContentType\n                      model={component}\n                      key={component.craftercms.id}\n                      parentModelId={modelPath}\n                    />\n                  )\n                }\n              </DropZone>\n\n              <div className=\"pt-5\">\n                <div>\n                  Categories:\n                  {\n                    model.categories_o?.map((category, i) =>\n                      <a href={`/category/${category.key}`} key={category.key}>{category.value_smv}{model.categories_o.length === i+1 ? '' : ','}</a>\n                    )\n                  }\n                </div>\n                <div>\n                  Tags:\n                  {\n                    model.tags_o?.map((tag, i) =>\n                      <a href={`/tag/${tag.key}`} key={tag.key}>#{tag.value_smv}{model.tags_o.length === i+1 ? '' : ','}</a>\n                    )\n                  }\n                </div>\n              </div>\n\n              <Comments id={model.craftercms.id} websiteShortname={websiteShortname}/>\n\n            </div>\n\n            <div className=\"col-md-12 col-lg-4 sidebar\">\n\n              <SidebarSearch/>\n\n              <SidebarBios bios={model.authorBio_o}/>\n\n              <RecentPostsAside posts={posts} />\n\n              <SidebarCategories />\n\n              <SidebarTags />\n\n            </div>\n\n          </div>\n        </div>\n      </section>\n      <section className=\"py-5\">\n        <div className=\"container\">\n          {\n            related &&\n            <>\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <h2 className=\"mb-3 \">Related Posts</h2>\n                </div>\n              </div>\n              <div className=\"row\">\n                {\n                  related?.items.map((post) =>\n                    <div key={post.craftercms.id} className=\"col-md-6 col-lg-4\">\n                      <PostCard model={post} format={IMAGE_BACKGROUND} classes={{ root: 'sm height-md' }} />\n                    </div>\n                  )\n                }\n              </div>\n              {\n                related?.pageCount > 1 &&\n                <nav aria-label=\"Posts navigation\" className=\"text-center\">\n                  <Paginate\n                    pageCount={related.pageCount}\n                    onPageChange={(index) => setPaginationData(\n                      {\n                        ...paginationData,\n                        currentPage: index * paginationData.itemsPerPage\n                      })\n                    }\n                  />\n                </nav>\n              }\n            </>\n          }\n        </div>\n      </section>\n    </BaseLayout>\n  );\n}\n"],"sourceRoot":""}