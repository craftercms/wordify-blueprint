{"version":3,"sources":["pages/NotFound.js","shared/DynamicRoute.js","shared/Router.js","shared/AppIntl.js","shared/App.js","index.js","shared/utils.js","shared/context.js","shared/hooks.js","fetchQuery.js","shared/queries.graphql.js","shared/CircularProgressSpinner.js","components/Header.js","components/Footer.js","shared/BaseLayout.js","shared/SearchForm.js","shared/contentTypeMap.js"],"names":["NotFound","levelDescriptor","meta","BaseLayout","model","style","textAlign","padding","DynamicRoute","props","match","location","useState","state","setState","url","path","includes","substring","indexOf","useEffect","destroyed","page","parseInt","parse","search","pagination","limit","offset","reportNavigation","fetchQuery","text","byUrlQuery","includePosts","postsLimit","postsOffset","then","data","parseDescriptor","content","items","levelDescriptors","filter","file__name","pop","disqus","websiteShortname","websiteShortname_s","posts","total","document","title","pageTitle_s","pageDescription_s","description","head","querySelector","setAttribute","window","scroll","CircularProgressSpinner","isAuthoring","craftercms","contentTypeMap","notFoundComponent","Router","component","Locales","en","es","AppIntl","useGlobalContext","locale","messages","App","jQuery","fallback","Cookies","get","siteName","set","ReactDOM","render","StrictMode","getElementById","attr","documentElement","getAttribute","createResource","factory","result","status","suspender","response","error","read","innerHTML","Error","crafterConfig","baseUrl","process","site","createTaxonomyFilter","name","taxonomy","crafterConf","configure","GlobalContext","createContext","context","useContext","GlobalContextProvider","useSpreadState","pages","pagesLoading","theme","$","value","useMemo","Provider","neverResource","Promise","reducer","nextState","initializerArg","initializer","useReducer","useNavigation","update","destroyedRef","useRef","current","useSearchQuery","useLocation","q","query","setQuery","p","setPage","onChange","useCallback","e","target","contentTypes","useUrlSearchQueryFetchResource","size","resource","setResource","createQuery","map","id","from","pipe","hits","rest","counted","parsedHits","_source","preParseSearchResults","toPromise","useFooter","footer","footerLoading","component_footer","useRecentPosts","postsLoading","postsQuery","usePosts","paginationData","categories","tags","exclude","setPosts","categoriesFilter","Array","isArray","category","matches","key","tagsFilter","tag","itemsPerPage","currentPage","pageCount","Math","ceil","useTaxonomiesResource","graphqlServer","operation","variables","fetch","method","headers","body","JSON","stringify","json","commonFragments","main","message","screenHeight","className","cx","cy","r","fill","strokeWidth","strokeMiterlimit","Header","nav","role","fieldId","format","socialLinks","link","index","rel","href","url_s","socialNetwork_s","classes","form","placeholder","data-toggle","onClick","preventDefault","toggleClass","aria-expanded","aria-controls","Link","to","sort","a","orderDefault_f","b","exact","activeClassName","navLabel","Footer","renderTarget","alt","quickLinks_o","i","label_s","dangerouslySetInnerHTML","__html","copyright_html_raw","children","count","SearchForm","history","useHistory","Object","assign","input","inputWrapper","onSubmit","trim","push","type","lazy"],"mappings":"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","file":"static/js/main.ad342bda.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport BaseLayout from '../shared/BaseLayout';\n\nexport default function NotFound({ meta: { levelDescriptor } }) {\n  return (\n    <BaseLayout model={levelDescriptor}>\n      <section style={{ textAlign: 'center', padding: '50px 0' }}>\n        <h1>Not Found</h1>\n        <p>The page you're looking for does not exist.</p>\n      </section>\n    </BaseLayout>\n  );\n}\n\nexport function NotDeveloped() {\n  return (\n    <section>\n      The page you've selected needs to be created by the site developers.\n    </section>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { fetchQuery } from '../fetchQuery';\nimport byUrlQuery from './queries.graphql';\nimport { parseDescriptor } from '@craftercms/content';\nimport { reportNavigation } from '@craftercms/ice';\nimport { parse } from 'query-string';\nimport { isAuthoring } from './utils';\nimport { ContentType, Guest } from '@craftercms/studio-guest';\nimport contentTypeMap from './contentTypeMap';\nimport NotFound from '../pages/NotFound';\n\nconst limit = 8;\n\nexport default function DynamicRoute(props) {\n  const { match, location } = props;\n  const [state, setState] = useState(null);\n  let url = match.path.includes(':')\n    ? match.path.substring(0, match.path.indexOf(':') - 1)\n    : match.url;\n\n  useEffect(() => {\n    let destroyed = false;\n    let page = parseInt(parse(location.search).page ?? 1) - 1;\n    const pagination = { limit, offset: page ? (page * limit) : 0 };\n    reportNavigation(url);\n    fetchQuery(\n      { text: byUrlQuery },\n      {\n        url: `.*${url === '/' ? 'website/index' : url}.*`,\n        includePosts: true,\n        postsLimit: pagination.limit,\n        postsOffset: pagination.offset\n      }\n    ).then(({ data }) => {\n      if (!destroyed) {\n        const model = parseDescriptor(data.content.items?.[0]);\n        const levelDescriptor = parseDescriptor(\n          data.levelDescriptors.items\n            .filter(levelDescriptor => levelDescriptor.file__name === 'crafter-level-descriptor.level.xml')\n            .pop()\n        );\n\n        setState({\n          model,\n          meta: {\n            levelDescriptor,\n            disqus: {\n              websiteShortname: levelDescriptor.websiteShortname_s\n            },\n            posts: {\n              total: data.posts.total,\n              ...pagination\n            }\n          }\n        });\n        if (model) {\n          document.title = model.pageTitle_s ?? 'Wordify Crafter CMS';\n          if (model.pageDescription_s) {\n            const description = document.head.querySelector('meta[name=\"description\"]');\n            description && description.setAttribute('content', model.pageDescription_s ?? '');\n          }\n        }\n      }\n    });\n    return () => {\n      destroyed = true;\n    };\n  }, [url, location.search]);\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [url]);\n\n  if (state === null) {\n    return <CircularProgressSpinner />;\n  } else {\n    return (\n      <Guest\n        isAuthoring={isAuthoring()}\n        path={state.model?.craftercms.path}\n      >\n        <ContentType\n          {...state}\n          {...props}\n          contentTypeMap={contentTypeMap}\n          notFoundComponent={NotFound}\n        />\n      </Guest>\n    );\n  }\n\n}\n\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport DynamicRoute from './DynamicRoute';\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/category/:id?\" component={DynamicRoute} />\n        <Route path=\"/tag/:id?\" component={DynamicRoute} />\n        <Route path=\"/*\" component={DynamicRoute} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useGlobalContext } from './context';\nimport en from '../assets/locales/en';\nimport es from '../assets/locales/es';\n\nconst Locales = {\n  en,\n  es\n};\n\nconst AppIntl = (props) => {\n  const [{ locale }] = useGlobalContext();\n  return <IntlProvider {...props} locale={locale} messages={Locales[locale]}/>;\n};\n\nexport default AppIntl;","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Suspense } from 'react';\nimport Router from './Router';\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { GlobalContextProvider } from './context';\nimport AppIntl from './AppIntl';\n\nexport default function App(props) {\n  return (\n    <GlobalContextProvider jQuery={props.jQuery}>\n      <AppIntl>\n        <Suspense\n          fallback={\n            <CircularProgressSpinner />\n          }\n        >\n          <Router />\n        </Suspense>\n      </AppIntl>\n    </GlobalContextProvider>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './shared/App';\nimport Cookies from 'js-cookie';\nimport { siteName } from './shared/utils';\n// import * as serviceWorker from './serviceWorker';\n\nif (Cookies.get('crafterSite') !== siteName) {\n  Cookies.set('crafterSite', siteName);\n}\n\n// On occasions, Crafter's jQuery overrides the site's jQuery\n// briefly. This will get fixed on next releases of Crafter CMS,\n// but for now, adding jQuery to the global context to 'cache' it.\nReactDOM.render(\n  <React.StrictMode>\n    <App jQuery={window.jQuery} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { crafterConf } from '@craftercms/classes';\nimport Cookies from 'js-cookie';\n\nexport function isAuthoring() {\n  const html = document.documentElement;\n  const attr = html.getAttribute('data-craftercms-preview');\n  return (\n    // eslint-disable-next-line no-template-curly-in-string\n    attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n    attr === 'true'\n  );\n}\n\nexport function createResource(factory) {\n  let result;\n  let status = \"pending\";\n  let suspender = factory().then(\n    response => {\n      status = \"success\";\n      result = response;\n    },\n    error => {\n      status = \"error\";\n      result = error;\n    }\n  );\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n  };\n}\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_CRAFTERCMS_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nexport const crafterConfig = {\n  baseUrl: process.env.REACT_APP_CRAFTERCMS_BASE_URL ?? '',\n  site: siteName\n};\n\ncrafterConf.configure(crafterConfig);\n\nexport function createTaxonomyFilter(name) {\n  return (taxonomy => taxonomy.craftercms.path.includes(name));\n};","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport { isAuthoring } from './utils';\nimport { useSpreadState } from './hooks';\n\nexport const GlobalContext = createContext();\n\nfunction useGlobalContext() {\n  const context = useContext(GlobalContext);\n  if (!context) {\n    throw new Error(`useGlobalContext must be used within a GlobalContextProvider`);\n  }\n  return context;\n}\n\nfunction GlobalContextProvider(props) {\n  const [state, setState] = useSpreadState({\n    isAuthoring: isAuthoring(),\n    locale: 'en',\n    pages: null,\n    pagesLoading: false,\n    theme: 'light',\n    $: props.jQuery\n  });\n  const value = useMemo(() => [state, setState], [state, setState]);\n  return <GlobalContext.Provider value={value} {...props} />;\n}\n\nexport { GlobalContextProvider, useGlobalContext };\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { fetchQuery } from '../fetchQuery';\nimport { useGlobalContext } from './context';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { crafterConfig, createResource } from './utils';\nimport { map } from 'rxjs/operators';\nimport { createQuery, search } from '@craftercms/search';\nimport { parseDescriptor, preParseSearchResults } from '@craftercms/content';\nimport { postsQuery } from './queries.graphql';\n\nexport const neverResource = createResource(() => new Promise(() => void 0));\n\nconst reducer = (state, nextState) => {\n  return { ...state, ...nextState };\n}\n\nexport function useSpreadState(initializerArg, initializer) {\n  return useReducer(reducer, initializerArg, initializer);\n}\n\nexport function useNavigation() {\n  const [{ pages, pagesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n  useEffect(() => {\n    if (!pages && !pagesLoading) {\n      update({ pagesLoading: true });\n      fetchQuery({\n        text: `\n          query Nav {\n            pages {\n              total\n              items {\n                navLabel\n                contentTypeId: content__type\n                url: localId(transform: \"storeUrlToRenderUrl\")\n                placeInNav(filter: { equals: true }) @skip(if: true)\n                orderDefault_f\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ pages: data.pages.items });\n      });\n    }\n  }, [update, pages, pagesLoading]);\n  return pages;\n}\n\nexport function useSearchQuery() {\n  const { search } = useLocation();\n  const [query, setQuery] = useState(() => parse(search).q ?? '');\n  const [page, setPage] = useState(() => parse(search).p ?? 0);\n  const onChange = useCallback((e) => setQuery(e.target.value), []);\n  useEffect(() => {\n    setQuery(parse(search).q ?? '');\n    setPage(parse(search).p ?? 0);\n  }, [search]);\n\n  return [query, onChange, setQuery, page];\n}\n\nconst contentTypes = ['/component/post'];\nexport function useUrlSearchQueryFetchResource(size = 1) {\n  const [query, , , page] = useSearchQuery();\n  const [resource, setResource] = useState(neverResource);\n  // https://github.com/facebook/react/issues/14413\n  useEffect(() => {\n    // FYI: A GraphQL query could also be used instead of a direct Elasticsearch\n    setResource(createResource(\n      () => search(\n        createQuery('elasticsearch', {\n          query: {\n            'bool': {\n              'filter': [\n                { 'bool': { 'should': contentTypes.map(id => ({ 'match': { 'content-type': id } })) } },\n                { 'multi_match': { 'query': query, 'type': 'phrase_prefix'} }\n              ]\n            }\n          },\n          size,\n          from: page\n        }),\n        crafterConfig\n      ).pipe(\n        map(({ hits, ...rest }) => {\n          const counted = {};\n          const parsedHits = hits.map(({ _source }) => parseDescriptor(\n            preParseSearchResults(_source)\n          )).filter((content) => {\n            // TODO: Search currently coming with duplicates. Should address at the elastic query level.\n            if (content.craftercms.id in counted) {\n              return false;\n            } else {\n              counted[content.craftercms.id] = true;\n              return true;\n            }\n          });\n          return { ...rest, hits: parsedHits };\n        })\n      ).toPromise()\n    ));\n  }, [query, page, size]);\n  return resource;\n}\n\nexport function useFooter() {\n  const [{ footer, footerLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!footer && !footerLoading) {\n      update({ footerLoading: true });\n      fetchQuery({\n        text: `\n          query Footer {\n            component_footer {\n              items {\n                guid: objectId\n                path: localId\n                contentTypeId: content__type\n                dateCreated: createdDate_dt\n                dateModified: lastModifiedDate_dt\n                label: internal__name              \n                aboutTitle_s\n                about_t\n                aboutImage_s\n                quickLinksTitle_s\n                socialLinksTitle_s\n                file__name(filter: {matches: \"site-footer.xml\"})\n                internal__name\n                localId\n                quickLinks_o {\n                  item {\n                    label_s\n                    url_s\n                  }\n                }\n                copyright_html_raw\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ footer: parseDescriptor(data.component_footer.items)[0] });\n      });\n    }\n  }, [update, footer, footerLoading]);\n  return footer;\n}\n\n// stores posts in globalContext to avoid multiple calls\nlet useRecentPostsLoading = false;\nexport function useRecentPosts() {\n  const [{ posts }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!posts && !useRecentPostsLoading) {\n      update({ postsLoading: true });\n      fetchQuery({\n        text: postsQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ posts: parseDescriptor(data.posts.items) });\n      });\n    }\n  }, [update, posts]);\n  return posts;\n}\n\nexport function usePosts(paginationData, categories, tags, exclude) {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    let categoriesFilter = categories\n      ? Array.isArray(categories)\n        ? categories.map(category => ({ matches: category.key }))\n        : [{ matches: categories.key }]\n      : [];\n    let tagsFilter = tags\n      ? Array.isArray(tags)\n        ? tags.map(tag => ({ matches: tag.key }))\n        : [{ matches: tags.key }]\n      : [];\n\n    fetchQuery(\n      { text: postsQuery },\n      {\n        postsLimit: paginationData.itemsPerPage,\n        postsOffset: (paginationData.currentPage * paginationData.itemsPerPage),\n        categoriesFilter,\n        tagsFilter,\n        exclude: exclude??\"\"\n      }\n    ).then(({ data }) => {\n      setPosts({\n        items: parseDescriptor(data.posts.items),\n        total: data.posts.total,\n        pageCount: Math.ceil(data.posts.total/paginationData.itemsPerPage)\n      });\n    });\n  }, [paginationData, categories, tags, exclude]);\n\n  return posts;\n}\n\nexport function useTaxonomiesResource() {\n  const [resource, setResource] = useState(neverResource);\n\n  useEffect(() => {\n    const resource = createResource(\n      () => fetchQuery({\n        text: `\n        query Taxonomies {\n          taxonomy {\n            total\n            items {\n              guid: objectId\n              path: localId\n              contentTypeId: content__type\n              dateCreated: createdDate_dt\n              dateModified: lastModifiedDate_dt\n              label: internal__name\n              items {\n                item {\n                  key\n                  value\n                  image_s\n                }\n              }\n            }\n          }\n        }\n      `\n      })\n    );\n    setResource(resource);\n  }, []);\n  return resource;\n}","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { siteName } from './shared/utils';\n\nlet graphqlServer = process.env.REACT_APP_GRAPHQL_SERVER;\nif (!graphqlServer.includes(siteName)) {\n  graphqlServer += `?crafterSite=${siteName}`;\n}\n\nexport function fetchQuery(\n  operation,\n  variables\n) {\n  return fetch(graphqlServer, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => response.json());\n}","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n// language=GraphQL\nconst commonFragments = `  \n  fragment byUrlQueryPost on component_post {\n    ...byUrlQueryContentItemFields\n    slug: localId(transform: \"storeUrlToRenderUrl\")\n    pageTitle_s\n    pageDescription_s\n    blurb_t\n    headline_s\n    mainImage_s\n    content_o {\n      item {\n        key\n        component {\n          ...on component_rich_text {\n            ...byUrlQueryRichText\n          }\n          ...on component_image {\n            ...byUrlQueryImage\n          }\n          ...on component_responsive_columns {\n            ...byUrlQueryResponsiveColumns\n          }\n        }\n      }\n    }\n    authorBio_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    categories_o {\n      item {\n        key(filter: {or: $categoriesFilter})\n        value_smv\n      }\n    }\n    tags_o {\n      item {\n        value_smv\n        key(filter: {or: $tagsFilter})\n      }\n    }\n  }\n\n  fragment byUrlQueryContentItemFields on ContentItem {\n    guid: objectId\n    path: localId(filter: {not: [{equals: $exclude}]})\n    contentTypeId: content__type\n    dateCreated: createdDate_dt\n    dateModified: lastModifiedDate_dt\n    label: internal__name\n  }\n\n  fragment byUrlQueryBioFragment on component_bio {\n    guid: objectId\n    contentTypeId: content__type\n    label: internal__name\n    path: localId\n    bio_t\n    name_s\n    profilePic_s\n    linkButtonText_s\n    linkButtonUrl_s\n    showLinkButton_b\n    facebookLink_s\n    twitterLink_s\n    instagramLink_s\n    youTubeLink_s\n  }\n\n  fragment byUrlQueryRichText on component_rich_text {\n    ...byUrlQueryContentItemFields\n    content_html: content_html_raw\n  }\n\n  fragment byUrlQueryImage on component_image {\n    ...byUrlQueryContentItemFields\n    image_s\n    alternativeText_s\n  }\n\n  fragment byUrlQueryResponsiveColumns on component_responsive_columns {\n    ...byUrlQueryContentItemFields\n    columns_o {\n      item {\n        columnSize_s\n        content_o {\n          item {\n            key\n            component {\n              ...on component_rich_text {\n                ...byUrlQueryRichText\n              }\n              ...on component_image {\n                ...byUrlQueryImage\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\n// language=GraphQL\nconst main = `\n  ${commonFragments}\n\n  fragment byUrlQueryHomepage on page_entry  {\n    pageTitle_s\n    pageDescription_s\n    bios_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    slider_o {\n      item {\n        key\n        component {\n          ...byUrlQueryContentItemFields\n          ...on component_slider {\n            ...byUrlQuerySlider\n          }\n        }\n      }\n    }\n  }\n  \n  fragment byUrlQueryAboutPage on page_about {\n    pageTitle_s\n    pageDescription_s\n    headline_s\n    bios_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    content_o {\n      item {\n        key\n        component {\n          ...on component_rich_text {\n            ...byUrlQueryRichText\n          }\n          ...on component_image {\n            ...byUrlQueryImage\n          }\n          ...on component_responsive_columns {\n            ...byUrlQueryResponsiveColumns\n          }\n        }\n      }\n    }\n  }\n\n  fragment byUrlQueryContactPage on page_contact {\n    pageTitle_s\n    pageDescription_s\n    message_t\n    headline_s\n  }\n\n  fragment byUrlQueryCategoryPage on page_category {\n    pageTitle_s\n    pageDescription_s\n  }\n\n  fragment byUrlQuerySlider on component_slider {\n    ...byUrlQueryContentItemFields\n    posts_o {\n      item {\n        key\n        component {\n          ...byUrlQueryContentItemFields\n          slug: localId(transform: \"storeUrlToRenderUrl\")\n          pageTitle_s\n          pageDescription_s\n          blurb_t\n          headline_s\n          mainImage_s\n          authorBio_o {\n            item {\n              key,\n              component {\n                ...byUrlQueryBioFragment\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  query byUrlQuery(\n    $url: String\n    $skipContentType: Boolean = true\n    $includePosts: Boolean = true\n    $postsLimit: Int = 8\n    $postsOffset: Int = 0\n    $exclude: String = \"\"\n    $categoriesFilter: [TextFilters!] = []\n    $tagsFilter: [TextFilters!] = []\n  ) {\n    content: contentItems {\n      total\n      items {\n        ...byUrlQueryContentItemFields\n        url: localId(\n          transform: \"storeUrlToRenderUrl\",\n          filter:{ regex: $url }\n        )\n        content__type(\n          filter:{\n            regex: \".*(bio|post|entry|category|contact|about|search).*\"\n          }\n        ) @skip (if: $skipContentType)\n        ...on page_entry {\n          ...byUrlQueryHomepage\n        }\n        ...on page_about {\n          ...byUrlQueryAboutPage\n        }\n        ...on page_contact {\n          ...byUrlQueryContactPage\n        }\n        ...on page_category {\n          ...byUrlQueryCategoryPage\n        }\n        ...on component_post {\n          ...byUrlQueryPost\n        }\n      }\n    }\n    levelDescriptors: component_level__descriptor {\n      items {\n        ...byUrlQueryContentItemFields\n        siteTitle_s\n        file__name\n        websiteShortname_s\n        socialLinks_o {\n          item {\n            socialNetwork_s\n            label_s\n            url_s\n          }\n        }\n      }\n    }\n    posts: component_post(\n      limit: $postsLimit,\n      offset: $postsOffset,\n      sortOrder: DESC,\n      sortBy: \"lastModifiedDate_dt\"\n    ) @include(if: $includePosts) {\n      total\n      items {\n        ...byUrlQueryPost\n      }\n    }\n  }\n`;\n\n//language=GraphQL\nexport const postsQuery = `\n  ${commonFragments}\n\n  query postsQuery(\n    $postsLimit: Int = 8\n    $postsOffset: Int = 0\n    $exclude: String = \"\"\n    $categoriesFilter: [TextFilters!] = []\n    $tagsFilter: [TextFilters!] = []\n  ) {\n    posts: component_post(\n      limit: $postsLimit,\n      offset: $postsOffset,\n      sortOrder: DESC,\n      sortBy: \"lastModifiedDate_dt\"\n    ) {\n      total\n      items {\n        ...byUrlQueryPost\n      }\n    }\n  }\n`;\n\nexport default main;","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function CircularProgressSpinner(props) {\n  const { message, screenHeight = true } = props;\n  return (\n    <div className={`circular-progress-spinner ${screenHeight ? 'circular-progress-spinner__screen-height' : ''}`}>\n      <div className=\"circular-progress-spinner--graphic-container\">\n        <svg className=\"circular-progress-spinner--graphic\">\n          <circle className=\"circular-progress-spinner--path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\n        </svg>\n      </div>\n      {\n        message &&\n        <p className=\"circular-progress-spinner--message\">{message}</p>\n      }\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useNavigation } from '../shared/hooks';\nimport SearchForm from '../shared/SearchForm';\nimport { useGlobalContext } from '../shared/context';\nimport { RenderField } from '@craftercms/studio-guest';\n\nexport default function Header({ model }) {\n  const nav = useNavigation();\n  const [{ $ }] = useGlobalContext();\n  const toggleNavBar = (e) => {\n    e.preventDefault();\n    $('#navbarMenu').toggleClass('show');\n  };\n  return (\n    <header role=\"banner\">\n      <div className=\"top-bar\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <RenderField\n              className=\"col-9 social\"\n              model={model}\n              fieldId=\"socialLinks_o\"\n              format={(socialLinks) => socialLinks?.map((link, index) =>\n                <RenderField\n                  component=\"a\"\n                  key={`${link.socialNetwork_s}_${index}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={link.url_s}\n                  model={model}\n                  fieldId=\"socialLinks_o\"\n                  index={index}\n                  format={(link) => <span className={`fa fa-${link.socialNetwork_s}`} />}\n                />\n              )}\n            />\n            <div className=\"col-3 search-top\">\n              <SearchForm\n                classes={{ form: 'search-top-form' }}\n                placeholder=\"Type keyword to search...\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"container logo-wrap\">\n        <div className=\"row pt-5\">\n          <div className=\"col-12 text-center\">\n            <a\n              className=\"absolute-toggle d-block d-md-none\"\n              data-toggle=\"collapse\"\n              href=\"#navbarMenu\"\n              onClick={toggleNavBar}\n              role=\"button\"\n              aria-expanded=\"false\"\n              aria-controls=\"navbarMenu\"\n            ><span className=\"burger-lines\"/></a>\n            <h1 className=\"site-logo\">\n              <RenderField model={model} fieldId=\"siteTitle_s\" component={Link} to=\"/\" />\n            </h1>\n          </div>\n        </div>\n      </div>\n      <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n        <div className=\"container\">\n          <div className=\"collapse navbar-collapse\" id=\"navbarMenu\">\n            <ul className=\"navbar-nav mx-auto\">\n              {\n                nav?.sort(\n                  (\n                    { orderDefault_f: a },\n                    { orderDefault_f: b }\n                  ) => (a < b) ? -1 : ((a > b) ? 1 : 0)\n                ).map((page) =>\n                  <li className=\"nav-item\" key={page.url}>\n                    <NavLink\n                      exact\n                      className=\"nav-link\"\n                      activeClassName=\"active\"\n                      to={page.url}\n                    >\n                      {page.navLabel}\n                    </NavLink>\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useFooter } from '../shared/hooks';\nimport { Field, RenderField } from '@craftercms/studio-guest';\n\nexport default function Footer({ model }) {\n  const footer = useFooter();\n  return (\n    <>\n      {\n        footer &&\n        <Field\n          model={footer}\n          className='site-footer'\n        >\n          <div className=\"container\">\n            <div className=\"row mb-5\">\n              <div className=\"col-md-4\">\n                <RenderField component=\"h3\" model={footer} fieldId=\"aboutTitle_s\" />\n                <p className=\"mb-4\">\n                  <RenderField\n                    component=\"img\"\n                    model={footer}\n                    renderTarget=\"src\"\n                    fieldId=\"aboutImage_s\"\n                    alt=\"\"\n                    className=\"img-fluid\"\n                  />\n                </p>\n                <RenderField component=\"p\" model={footer} fieldId=\"about_t\" />\n              </div>\n              <div className=\"col-md-6 ml-auto\">\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <RenderField component=\"h3\" model={footer} fieldId=\"quickLinksTitle_s\" />\n                    <RenderField\n                      component=\"ul\"\n                      className=\"list-unstyled\"\n                      model={footer}\n                      fieldId=\"quickLinks_o\"\n                      format={(quickLinks_o) => quickLinks_o.map((link, i) =>\n                        <Field\n                          key={i}\n                          component=\"li\"\n                          model={footer}\n                          fieldId=\"quickLinks_o\"\n                          index={i}\n                        >\n                          <RenderField\n                            component={Link}\n                            model={footer}\n                            fieldId=\"quickLinks_o.label_s,quickLinks_o.url_s\"\n                            index={i}\n                            renderTarget=\"children,to\"\n                          />\n                        </Field>\n                      )}\n                    />\n                  </div>\n                  <div className=\"col-md-1\"/>\n                  <div className=\"col-md-5\">\n                    <div className=\"mb-5\">\n                      <RenderField component=\"h3\" model={footer} fieldId=\"socialLinksTitle_s\" />\n                      <RenderField\n                        component=\"ul\"\n                        className=\"list-unstyled footer-social\"\n                        model={model}\n                        fieldId=\"socialLinks_o\"\n                        format={(socialLinks) => socialLinks?.map((link, index) =>\n                          <RenderField\n                            component=\"li\"\n                            key={link.socialNetwork_s}\n                            model={model}\n                            fieldId=\"socialLinks_o\"\n                            index={index}\n                            format={(link) =>\n                              <a href={link.url_s} target=\"_blank\" rel=\"noopener noreferrer\">\n                                <span className={`fa fa-${link.socialNetwork_s}`}/> {link.label_s}\n                              </a>\n                            }\n                          />\n                        )}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div\n                className=\"col-md-12 text-center\"\n                dangerouslySetInnerHTML={{ __html: footer.copyright_html_raw }}\n              />\n            </div>\n          </div>\n        </Field>\n      }\n    </>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport React from 'react';\nimport { useGlobalContext } from './context';\n\nexport default function BaseLayout({ model, children }) {\n  const [{ theme }] = useGlobalContext();\n  return (\n    <div className={`wrap theme-${theme}`}>\n      <Header model={model} />\n      <div className=\"wrap\">\n        {children}\n      </div>\n      <Footer model={model} />\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSearchQuery } from './hooks';\n\nlet count = 0;\n\nfunction SearchForm(props) {\n  const history = useHistory();\n  const { placeholder = '', id = `searchInput_${count++}` } = props;\n  const classes = Object.assign({\n    form: '',\n    input: '',\n    inputWrapper: ''\n  }, props.classes);\n  const [query, onChange] = useSearchQuery();\n  return (\n    <form\n      className={classes.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        query.trim() && history.push(`/search?q=${query}`);\n      }}\n    >\n      <div className={classes.inputWrapper}>\n        <span className=\"icon fa fa-search\" />\n        <input\n          id={id}\n          type=\"text\"\n          value={query}\n          onChange={onChange}\n          className={classes.input}\n          placeholder={placeholder}\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { lazy } from 'react';\n\nconst map = {\n  '/page/entry': lazy(() => import('../pages/Home')),\n  '/page/about': lazy(() => import('../pages/About')),\n  '/page/contact': lazy(() => import('../pages/Contact')),\n  '/page/category': lazy(() => import('../pages/Category')),\n  '/page/search': lazy(() => import('../pages/Search')),\n  '/component/header': lazy(() => import('../components/Header')),\n  '/component/footer': lazy(() => import('../components/Footer')),\n  '/component/bio': lazy(() => import('../components/Bio')),\n  '/component/image': lazy(() => import('../components/Image')),\n  '/component/responsive_columns': lazy(() => import('../components/ResponsiveColumns')),\n  '/component/rich_text': lazy(() => import('../components/RichText')),\n  '/component/slider': lazy(() => import('../components/Slider')),\n  '/component/post': lazy(() => import('../pages/Post'))\n};\n\nexport default map;"],"sourceRoot":""}