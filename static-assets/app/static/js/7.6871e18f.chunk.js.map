{"version":3,"sources":["shared/DropZone.js","components/Bio.js","shared/SidebarBios.js","shared/CategoryCard.js","pages/Category.js"],"names":["props","ice","useDnD","component","Component","cleanProps","model","fieldId","bio_t","name_s","profilePic_s","linkButtonText_s","linkButtonUrl_s","showLinkButton_b","facebookLink_s","twitterLink_s","instagramLink_s","youTubeLink_s","className","src","alt","href","target","rel","SidebarBio","bio","usePencil","map","key","craftercms","id","category","link","isTag","to","image_s","value","CategoryContent","resource","categoryId","data","read","categories","parseDescriptor","taxonomy","items","filter","createTaxonomyFilter","useState","itemsPerPage","currentPage","paginationData","setPaginationData","item","posts","usePosts","post","PostCard","format","LANDSCAPE","pageCount","aria-label","Paginate","onPageChange","index","CategoryCard","match","meta","siteTitle","socialLinks","path","setCategoryId","useTaxonomiesResource","useEffect","params","BaseLayout","fallback","CircularProgressSpinner","screenHeight","SidebarSearch","SidebarBios","RecentPostsAside"],"mappings":"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","file":"static/js/7.6871e18f.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useDnD } from './hooks';\nimport React from 'react';\n\nexport default function (props) {\n  const ice = useDnD(props);\n  const { component: Component = 'div' } = props;\n  const cleanProps = { ...props };\n  delete cleanProps.model;\n  delete cleanProps.component;\n  delete cleanProps.fieldId;\n  return <Component {...ice} {...cleanProps} />;\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function (props) {\n  const {\n    ice,\n    model: {\n      // craftercms: {\n      //   id,\n      //   contentTypeId,\n      //   label,\n      //   path,\n      // },\n      bio_t,\n      name_s,\n      profilePic_s,\n      linkButtonText_s,\n      linkButtonUrl_s,\n      showLinkButton_b,\n      facebookLink_s,\n      twitterLink_s,\n      instagramLink_s,\n      youTubeLink_s\n    }\n  } = props;\n  return (\n    <>\n      <div className=\"bio text-center\" {...ice}>\n        <img src={profilePic_s} alt=\"\" className=\"img-fluid\" />\n        <div className=\"bio-body\">\n          <h2>{name_s}</h2>\n          <p>{bio_t}</p>\n          {\n            showLinkButton_b &&\n            <p>\n              <a href={linkButtonUrl_s} className=\"btn btn-primary btn-sm rounded\">\n                {linkButtonText_s}\n              </a>\n            </p>\n          }\n          <p className=\"social\">\n            {\n              facebookLink_s &&\n              <a href={facebookLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-facebook\" />\n              </a>\n            }\n            {\n              twitterLink_s &&\n              <a href={twitterLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-twitter\" />\n              </a>\n            }\n            {\n              instagramLink_s &&\n              <a href={instagramLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-instagram\" />\n              </a>\n            }\n            {\n              youTubeLink_s &&\n              <a href={youTubeLink_s} className=\"p-2\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <span className=\"fa fa-youtube-play\" />\n              </a>\n            }\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport Bio from '../components/Bio';\nimport { usePencil } from './hooks';\nimport DropZone from './DropZone';\n\nexport default function (props) {\n  const { model, fieldId } = props;\n  return (\n    <DropZone\n      model={model}\n      component=\"div\"\n      fieldId={fieldId}\n    >\n      {\n        model[fieldId]?.map(bio => <SidebarBio key={bio.craftercms.id} model={bio} />)\n      }\n    </DropZone>\n  );\n}\n\nfunction SidebarBio(props) {\n  const bio = props.model;\n  const ice = usePencil(props);\n  return (\n    <div className=\"sidebar-box\">\n      <Bio ice={ice} model={bio} />\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function (props) {\n  const {\n    category,\n    isTag\n  } = props;\n\n  const link = isTag ? 'tag' : 'category'\n\n  return(\n    <Link to={`/${link}/${category.key}`} className=\"blog-entry category-card\">\n      {\n        category.image_s &&\n        <img className=\"background\" src={category.image_s} alt={category.value}/>\n      }\n      <h2 className=\"title\">{category.value}</h2>\n    </Link>\n  )\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState, Suspense, useEffect } from 'react';\nimport BaseLayout from '../shared/BaseLayout';\nimport RecentPostsAside from '../shared/RecentPostsAside';\nimport PostCard, { LANDSCAPE } from '../shared/PostCard';\nimport SidebarBios from '../shared/SidebarBios';\nimport SidebarSearch from '../shared/SidebarSearch';\nimport { SidebarCategories, SidebarTags } from '../shared/SidebarTaxonomies';\nimport { usePencil, usePosts, useTaxonomiesResource } from '../shared/hooks';\nimport CategoryCard from '../shared/CategoryCard';\nimport { parseDescriptor } from '@craftercms/content';\nimport { createTaxonomyFilter } from '../shared/utils';\nimport CircularProgressSpinner from '../shared/CircularProgressSpinner';\nimport Paginate from '../shared/Paginate';\n\nfunction CategoryContent({ resource, isTag, categoryId }) {\n  const { data } = resource.read();\n  const taxonomies = parseDescriptor(data.taxonomy.items);\n  const categories = taxonomies.filter(\n    createTaxonomyFilter(isTag ? 'tags.xml' : 'categories.xml')\n  )[0];\n\n  let category;\n  const ice = usePencil({ model: categories });\n  const [paginationData, setPaginationData] = useState({\n    itemsPerPage: 10,\n    currentPage: 0\n  });\n\n  if (categoryId) {\n    category = categories?.items.item.filter(category => category.key === categoryId)[0];\n  }\n\n  const posts = usePosts(paginationData, category);\n\n  return (\n    <>\n      {\n        categoryId\n        ?\n        <>\n          <div className=\"col-md-12\">\n            <h2 className=\"mb-4\">{isTag ? 'Tag' : 'Category'}: {category?.value}</h2>\n          </div>\n          <div className=\"col-md-12 col-lg-8 main-content\">\n            <div className=\"row mb-5 mt-5\">\n              <div className=\"col-md-12\">\n                {\n                  posts?.items.map((post) =>\n                    <PostCard key={post.craftercms.id} model={post} format={LANDSCAPE} />\n                  )\n                }\n              </div>\n            </div>\n            {\n              posts?.pageCount > 1 &&\n              <div className=\"row mt-5\">\n                <div className=\"col-md-12 text-center\">\n                  <nav aria-label=\"Categories navigation\" className=\"text-center\">\n                    <Paginate\n                      pageCount={posts.pageCount}\n                      onPageChange={(index) => setPaginationData(\n                        {\n                          ...paginationData,\n                          currentPage: index * paginationData.itemsPerPage\n                        })\n                      }\n                    />\n                  </nav>\n                </div>\n              </div>\n            }\n          </div>\n        </>\n        :\n        <>\n          <div className=\"col-md-12\">\n            <h2 className=\"mb-4\">{isTag ? 'Tags' : 'Categories'}:</h2>\n          </div>\n          <div className=\"col-md-12 col-lg-8\">\n            <div className=\"row\" {...ice}>\n              {\n                categories?.items.item.map(category =>\n                  <div className=\"col-md-6 mb-4\" key={category.key}>\n                    <CategoryCard category={category} isTag={isTag} />\n                  </div>\n                )\n              }\n            </div>\n          </div>\n        </>\n      }\n    </>\n  );\n}\n\nexport default function (props) {\n  const {\n    model,\n    match,\n    meta: {\n      siteTitle,\n      socialLinks\n    }\n  } = props;\n\n  const isTag = match.path === '/tag/:id?';\n  const [categoryId, setCategoryId] = useState();\n  let resource = useTaxonomiesResource();\n\n  useEffect(() => {\n    if (match.path === '/category/:id?' || match.path === '/tag/:id?') {\n      setCategoryId(match.params.id);\n    }\n  }, [match.params, match.path]);\n\n  return (\n    <BaseLayout siteTitle={siteTitle} socialLinks={socialLinks}>\n      <section className=\"site-section pt-5\">\n        <div className=\"container\">\n          <div className=\"row blog-entries\">\n            <Suspense fallback={<CircularProgressSpinner screenHeight={false} />}>\n              <CategoryContent resource={resource} categoryId={categoryId} isTag={isTag} />\n            </Suspense>\n            <div className=\"col-md-12 col-lg-4 sidebar\">\n\n              <SidebarSearch />\n\n              <SidebarBios model={model} fieldId=\"bios_o\" />\n\n              <RecentPostsAside />\n\n              <SidebarCategories />\n\n              <SidebarTags />\n\n            </div>\n          </div>\n        </div>\n      </section>\n    </BaseLayout>\n  );\n}\n"],"sourceRoot":""}