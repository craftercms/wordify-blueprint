{"version":3,"sources":["shared/queries.graphql.js","shared/CircularProgressSpinner.js","components/Header.js","components/Footer.js","shared/BaseLayout.js","shared/SearchForm.js","shared/contentTypeMap.js","pages/NotFound.js","shared/DynamicRoute.js","shared/Router.js","shared/AppIntl.js","shared/App.js","index.js","shared/utils.js","shared/context.js","shared/hooks.js","fetchQuery.js"],"names":["commonFragments","main","postsQuery","CircularProgressSpinner","props","message","screenHeight","className","cx","cy","r","fill","strokeWidth","strokeMiterlimit","Header","model","nav","useNavigation","useState","showMobileMenu","setShowMobileMenu","role","fieldId","format","socialLinks","map","link","index","component","target","rel","href","url_s","socialNetwork_s","classes","form","placeholder","data-toggle","onClick","aria-expanded","aria-controls","Link","to","id","sort","a","orderDefault_f","b","page","exact","activeClassName","url","navLabel","Footer","footer","useFooter","renderTarget","alt","quickLinks_o","i","label_s","dangerouslySetInnerHTML","__html","copyright_html_raw","BaseLayout","children","useGlobalContext","theme","count","SearchForm","history","useHistory","Object","assign","input","inputWrapper","useSearchQuery","query","onChange","onSubmit","e","preventDefault","trim","push","type","value","lazy","NotFound","levelDescriptor","meta","style","textAlign","padding","DynamicRoute","match","location","state","setState","path","includes","substring","indexOf","useEffect","destroyed","parseInt","parse","search","pagination","limit","offset","fetchQuery","text","byUrlQuery","includePosts","postsLimit","postsOffset","then","data","parseDescriptor","content","items","levelDescriptors","filter","file__name","pop","disqus","websiteShortname","websiteShortname_s","posts","total","document","title","pageTitle_s","pageDescription_s","description","head","querySelector","setAttribute","window","scroll","isAuthoring","craftercms","contentTypeMap","notFoundComponent","Router","Locales","en","es","AppIntl","locale","messages","App","fallback","Cookies","get","siteName","set","ReactDOM","render","StrictMode","getElementById","attr","documentElement","getAttribute","createResource","factory","result","status","suspender","response","error","read","innerHTML","Error","crafterConfig","baseUrl","process","site","createTaxonomyFilter","name","taxonomy","crafterConf","configure","GlobalContext","createContext","context","useContext","GlobalContextProvider","useSpreadState","pages","pagesLoading","useMemo","Provider","neverResource","Promise","reducer","nextState","initializerArg","initializer","useReducer","update","destroyedRef","useRef","current","useLocation","q","setQuery","p","setPage","useCallback","contentTypes","useUrlSearchQueryFetchResource","size","resource","setResource","fields","searchQuery","userTerm","matcher","must","replace","minimum_should_match","should","createQuery","from","pipe","hits","rest","counted","parsedHits","_source","preParseSearchResults","toPromise","footerLoading","component_footer","useRecentPosts","postsLoading","usePosts","paginationData","categories","tags","exclude","setPosts","categoriesFilter","Array","isArray","category","matches","key","tagsFilter","tag","itemsPerPage","currentPage","pageCount","Math","ceil","useTaxonomiesResource","graphqlServer","operation","variables","fetch","method","headers","body","JSON","stringify","json"],"mappings":"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","file":"static/js/main.838c3dc7.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n// language=GraphQL\nconst commonFragments = `\n    fragment PostComponentFragment on component_post {\n        ...ContentItemFieldsFragment\n        slug: localId(transform: \"storeUrlToRenderUrl\")\n        pageTitle_s\n        pageDescription_s\n        blurb_t\n        headline_s\n        mainImage_s\n        content_o {\n            item {\n                key\n                component {\n                    ...on component_rich_text {\n                        ...RichTextComponentFragment\n                    }\n                    ...on component_image {\n                        ...ImageComponentFragment\n                    }\n                    ...on component_responsive_columns {\n                        ...ResponsiveColumnsComponentFragment\n                    }\n                }\n            }\n        }\n        authorBio_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        categories_o {\n            item {\n                key(filter: {or: $categoriesFilter})\n                value_smv\n            }\n        }\n        tags_o {\n            item {\n                value_smv\n                key(filter: {or: $tagsFilter})\n            }\n        }\n    }\n\n    fragment ContentItemFieldsFragment on ContentItem {\n        guid: objectId\n        path: localId(filter: {not: [{equals: $exclude}]})\n        contentTypeId: content__type\n        dateCreated: createdDate_dt\n        dateModified: lastModifiedDate_dt\n        label: internal__name\n    }\n\n    fragment BioComponentFragment on component_bio {\n        guid: objectId\n        contentTypeId: content__type\n        label: internal__name\n        path: localId\n        bio_t\n        name_s\n        profilePic_s\n        linkButtonText_s\n        linkButtonUrl_s\n        showLinkButton_b\n        facebookLink_s\n        twitterLink_s\n        instagramLink_s\n        youTubeLink_s\n    }\n\n    fragment RichTextComponentFragment on component_rich_text {\n        ...ContentItemFieldsFragment\n        content_html: content_html_raw\n    }\n\n    fragment ImageComponentFragment on component_image {\n        ...ContentItemFieldsFragment\n        image_s\n        alternativeText_s\n    }\n\n    fragment ResponsiveColumnsComponentFragment on component_responsive_columns {\n        ...ContentItemFieldsFragment\n        columns_o {\n            item {\n                columnSize_s\n                content_o {\n                    item {\n                        key\n                        component {\n                            ...on component_rich_text {\n                                ...RichTextComponentFragment\n                            }\n                            ...on component_image {\n                                ...ImageComponentFragment\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n\n// language=GraphQL\nconst main = `\n    ${commonFragments}\n\n    fragment HomepageFragment on page_entry  {\n        pageTitle_s\n        pageDescription_s\n        bios_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        slider_o {\n            item {\n                key\n                component {\n                    ...ContentItemFieldsFragment\n                    ...on component_slider {\n                        ...SliderComponentFragment\n                    }\n                }\n            }\n        }\n    }\n\n    fragment AboutPageFragment on page_about {\n        pageTitle_s\n        pageDescription_s\n        headline_s\n        bios_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        content_o {\n            item {\n                key\n                component {\n                    ...on component_rich_text {\n                        ...RichTextComponentFragment\n                    }\n                    ...on component_image {\n                        ...ImageComponentFragment\n                    }\n                    ...on component_responsive_columns {\n                        ...ResponsiveColumnsComponentFragment\n                    }\n                }\n            }\n        }\n    }\n\n    fragment ContactPageFragment on page_contact {\n        pageTitle_s\n        pageDescription_s\n        message_t\n        headline_s\n    }\n\n    fragment CategoryPageFragment on page_category {\n        pageTitle_s\n        pageDescription_s\n    }\n\n    fragment SliderComponentFragment on component_slider {\n        ...ContentItemFieldsFragment\n        posts_o {\n            item {\n                key\n                component {\n                    ...ContentItemFieldsFragment\n                    slug: localId(transform: \"storeUrlToRenderUrl\")\n                    pageTitle_s\n                    pageDescription_s\n                    blurb_t\n                    headline_s\n                    mainImage_s\n                    authorBio_o {\n                        item {\n                            key,\n                            component {\n                                ...BioComponentFragment\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    query byUrlQuery(\n        $url: String\n        $skipContentType: Boolean = true\n        $includePosts: Boolean = true\n        $postsLimit: Int = 8\n        $postsOffset: Int = 0\n        $exclude: String = \"\"\n        $categoriesFilter: [TextFilters!] = []\n        $tagsFilter: [TextFilters!] = []\n    ) {\n        content: contentItems {\n            total\n            items {\n                ...ContentItemFieldsFragment\n                url: localId(\n                    transform: \"storeUrlToRenderUrl\",\n                    filter:{ regex: $url }\n                )\n                content__type(\n                    filter:{\n                        regex: \".*(bio|post|entry|category|contact|about|search).*\"\n                    }\n                ) @skip (if: $skipContentType)\n                ...on page_entry {\n                    ...HomepageFragment\n                }\n                ...on page_about {\n                    ...AboutPageFragment\n                }\n                ...on page_contact {\n                    ...ContactPageFragment\n                }\n                ...on page_category {\n                    ...CategoryPageFragment\n                }\n                ...on component_post {\n                    ...PostComponentFragment\n                }\n            }\n        }\n        levelDescriptors: component_level__descriptor {\n            items {\n                ...ContentItemFieldsFragment\n                siteTitle_s\n                file__name\n                websiteShortname_s\n                socialLinks_o {\n                    item {\n                        socialNetwork_s\n                        label_s\n                        url_s\n                    }\n                }\n            }\n        }\n        posts: component_post(\n            limit: $postsLimit,\n            offset: $postsOffset,\n            sortOrder: DESC,\n            sortBy: \"lastModifiedDate_dt\"\n        ) @include(if: $includePosts) {\n            total\n            items {\n                ...PostComponentFragment\n            }\n        }\n    }\n`;\n\n//language=GraphQL\nexport const postsQuery = `\n    ${commonFragments}\n\n    query postsQuery(\n        $postsLimit: Int = 8\n        $postsOffset: Int = 0\n        $exclude: String = \"\"\n        $categoriesFilter: [TextFilters!] = []\n        $tagsFilter: [TextFilters!] = []\n    ) {\n        posts: component_post(\n            limit: $postsLimit,\n            offset: $postsOffset,\n            sortOrder: DESC,\n            sortBy: \"lastModifiedDate_dt\"\n        ) {\n            total\n            items {\n                ...PostComponentFragment\n            }\n        }\n    }\n`;\n\nexport default main;\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function CircularProgressSpinner(props) {\n  const { message, screenHeight = true } = props;\n  return (\n    <div className={`circular-progress-spinner ${screenHeight ? 'circular-progress-spinner__screen-height' : ''}`}>\n      <div className=\"circular-progress-spinner--graphic-container\">\n        <svg className=\"circular-progress-spinner--graphic\">\n          <circle className=\"circular-progress-spinner--path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\n        </svg>\n      </div>\n      {\n        message &&\n        <p className=\"circular-progress-spinner--message\">{message}</p>\n      }\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useNavigation } from '../shared/hooks';\nimport SearchForm from '../shared/SearchForm';\nimport { RenderField } from '@craftercms/experience-builder/react';\n\nexport default function Header({ model }) {\n  const nav = useNavigation();\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const toggleNavBar = () => setShowMobileMenu(!showMobileMenu);\n  return (\n    <header role=\"banner\">\n      <div className=\"top-bar\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <RenderField\n              className=\"col-9 social\"\n              model={model}\n              fieldId=\"socialLinks_o\"\n              format={(socialLinks) => socialLinks?.map((link, index) =>\n                <RenderField\n                  component=\"a\"\n                  key={`${link.socialNetwork_s}_${index}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={link.url_s}\n                  model={model}\n                  fieldId=\"socialLinks_o\"\n                  index={index}\n                  format={(link) => <span className={`fa fa-${link.socialNetwork_s}`} />}\n                />\n              )}\n            />\n            <div className=\"col-3 search-top\">\n              <SearchForm\n                classes={{ form: 'search-top-form' }}\n                placeholder=\"Type keyword to search...\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"container logo-wrap\">\n        <div className=\"row pt-5\">\n          <div className=\"col-12 text-center\">\n            <a\n              className=\"absolute-toggle d-block d-md-none\"\n              data-toggle=\"collapse\"\n              href=\"#navbarMenu\"\n              onClick={toggleNavBar}\n              role=\"button\"\n              aria-expanded=\"false\"\n              aria-controls=\"navbarMenu\"\n            ><span className=\"burger-lines\"/></a>\n            <h1 className=\"site-logo\">\n              <RenderField model={model} fieldId=\"siteTitle_s\" component={Link} to=\"/\" />\n            </h1>\n          </div>\n        </div>\n      </div>\n      <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n        <div className=\"container\">\n          <div className={`collapse navbar-collapse ${showMobileMenu ? 'show' : ''}`} id=\"navbarMenu\">\n            <ul className=\"navbar-nav mx-auto\">\n              {\n                nav?.sort(\n                  (\n                    { orderDefault_f: a },\n                    { orderDefault_f: b }\n                  ) => (a < b) ? -1 : ((a > b) ? 1 : 0)\n                ).map((page) =>\n                  <li className=\"nav-item\" key={page.url}>\n                    <NavLink\n                      exact\n                      className=\"nav-link\"\n                      activeClassName=\"active\"\n                      to={page.url}\n                    >\n                      {page.navLabel}\n                    </NavLink>\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useFooter } from '../shared/hooks';\nimport { Field, RenderField } from '@craftercms/experience-builder/react';\n\nexport default function Footer({ model }) {\n  const footer = useFooter();\n  return (\n    <>\n      {\n        footer &&\n        <Field\n          model={footer}\n          className='site-footer'\n        >\n          <div className=\"container\">\n            <div className=\"row mb-5\">\n              <div className=\"col-md-4\">\n                <RenderField component=\"h3\" model={footer} fieldId=\"aboutTitle_s\" />\n                <p className=\"mb-4\">\n                  <RenderField\n                    component=\"img\"\n                    model={footer}\n                    renderTarget=\"src\"\n                    fieldId=\"aboutImage_s\"\n                    alt=\"\"\n                    className=\"img-fluid\"\n                  />\n                </p>\n                <RenderField component=\"p\" model={footer} fieldId=\"about_t\" />\n              </div>\n              <div className=\"col-md-6 ml-auto\">\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <RenderField component=\"h3\" model={footer} fieldId=\"quickLinksTitle_s\" />\n                    <RenderField\n                      component=\"ul\"\n                      className=\"list-unstyled\"\n                      model={footer}\n                      fieldId=\"quickLinks_o\"\n                      format={(quickLinks_o) => quickLinks_o.map((link, i) =>\n                        <Field\n                          key={i}\n                          component=\"li\"\n                          model={footer}\n                          fieldId=\"quickLinks_o\"\n                          index={i}\n                        >\n                          <RenderField\n                            component={Link}\n                            model={footer}\n                            fieldId=\"quickLinks_o.label_s,quickLinks_o.url_s\"\n                            index={i}\n                            renderTarget=\"children,to\"\n                          />\n                        </Field>\n                      )}\n                    />\n                  </div>\n                  <div className=\"col-md-1\"/>\n                  <div className=\"col-md-5\">\n                    <div className=\"mb-5\">\n                      <RenderField component=\"h3\" model={footer} fieldId=\"socialLinksTitle_s\" />\n                      <RenderField\n                        component=\"ul\"\n                        className=\"list-unstyled footer-social\"\n                        model={model}\n                        fieldId=\"socialLinks_o\"\n                        format={(socialLinks) => socialLinks?.map((link, index) =>\n                          <RenderField\n                            component=\"li\"\n                            key={link.socialNetwork_s}\n                            model={model}\n                            fieldId=\"socialLinks_o\"\n                            index={index}\n                            format={(link) =>\n                              <a href={link.url_s} target=\"_blank\" rel=\"noopener noreferrer\">\n                                <span className={`fa fa-${link.socialNetwork_s}`}/> {link.label_s}\n                              </a>\n                            }\n                          />\n                        )}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div\n                className=\"col-md-12 text-center\"\n                dangerouslySetInnerHTML={{ __html: footer.copyright_html_raw }}\n              />\n            </div>\n          </div>\n        </Field>\n      }\n    </>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport React from 'react';\nimport { useGlobalContext } from './context';\n\nexport default function BaseLayout({ model, children }) {\n  const [{ theme }] = useGlobalContext();\n  return (\n    <div className={`wrap theme-${theme}`}>\n      <Header model={model} />\n      <div className=\"wrap\">\n        {children}\n      </div>\n      <Footer model={model} />\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSearchQuery } from './hooks';\n\nlet count = 0;\n\nfunction SearchForm(props) {\n  const history = useHistory();\n  const { placeholder = '', id = `searchInput_${count++}` } = props;\n  const classes = Object.assign({\n    form: '',\n    input: '',\n    inputWrapper: ''\n  }, props.classes);\n  const [query, onChange] = useSearchQuery();\n  return (\n    <form\n      className={classes.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        query.trim() && history.push(`/search?q=${query}`);\n      }}\n    >\n      <div className={classes.inputWrapper}>\n        <span className=\"icon fa fa-search\" />\n        <input\n          id={id}\n          type=\"text\"\n          value={query}\n          onChange={onChange}\n          className={classes.input}\n          placeholder={placeholder}\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { lazy } from 'react';\n\nconst map = {\n  '/page/entry': lazy(() => import('../pages/Home')),\n  '/page/about': lazy(() => import('../pages/About')),\n  '/page/contact': lazy(() => import('../pages/Contact')),\n  '/page/category': lazy(() => import('../pages/Category')),\n  '/page/search': lazy(() => import('../pages/Search')),\n  '/component/header': lazy(() => import('../components/Header')),\n  '/component/footer': lazy(() => import('../components/Footer')),\n  '/component/bio': lazy(() => import('../components/Bio')),\n  '/component/image': lazy(() => import('../components/Image')),\n  '/component/responsive_columns': lazy(() => import('../components/ResponsiveColumns')),\n  '/component/rich_text': lazy(() => import('../components/RichText')),\n  '/component/slider': lazy(() => import('../components/Slider')),\n  '/component/post': lazy(() => import('../pages/Post'))\n};\n\nexport default map;","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport BaseLayout from '../shared/BaseLayout';\n\nexport default function NotFound({ meta: { levelDescriptor } }) {\n  return (\n    <BaseLayout model={levelDescriptor}>\n      <section style={{ textAlign: 'center', padding: '50px 0' }}>\n        <h1>Not Found</h1>\n        <p>The page you're looking for does not exist.</p>\n      </section>\n    </BaseLayout>\n  );\n}\n\nexport function NotDeveloped() {\n  return (\n    <section>\n      The page you've selected needs to be created by the site developers.\n    </section>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { fetchQuery } from '../fetchQuery';\nimport byUrlQuery from './queries.graphql';\nimport { parseDescriptor } from '@craftercms/content';\nimport { parse } from 'query-string';\nimport { isAuthoring } from './utils';\nimport { ContentType, Guest } from '@craftercms/experience-builder/react';\nimport contentTypeMap from './contentTypeMap';\nimport NotFound from '../pages/NotFound';\n\nconst limit = 8;\n\nexport default function DynamicRoute(props) {\n  const { match, location } = props;\n  const [state, setState] = useState(null);\n  let url = match.path.includes(':')\n    ? match.path.substring(0, match.path.indexOf(':') - 1)\n    : match.url;\n\n  useEffect(() => {\n    let destroyed = false;\n    let page = parseInt(parse(location.search).page ?? 1) - 1;\n    const pagination = { limit, offset: page ? (page * limit) : 0 };\n    fetchQuery(\n      { text: byUrlQuery },\n      {\n        url: `.*${url === '/' ? 'website/index' : url}.*`,\n        includePosts: true,\n        postsLimit: pagination.limit,\n        postsOffset: pagination.offset\n      }\n    ).then(({ data }) => {\n      if (!destroyed) {\n        const model = parseDescriptor(data.content.items?.[0]);\n        const levelDescriptor = parseDescriptor(\n          data.levelDescriptors.items\n            .filter(levelDescriptor => levelDescriptor.file__name === 'crafter-level-descriptor.level.xml')\n            .pop()\n        );\n\n        setState({\n          model,\n          meta: {\n            levelDescriptor,\n            disqus: {\n              websiteShortname: levelDescriptor.websiteShortname_s\n            },\n            posts: {\n              total: data.posts.total,\n              ...pagination\n            }\n          }\n        });\n        if (model) {\n          document.title = model.pageTitle_s ?? 'Wordify CrafterCMS';\n          if (model.pageDescription_s) {\n            const description = document.head.querySelector('meta[name=\"description\"]');\n            description && description.setAttribute('content', model.pageDescription_s ?? '');\n          }\n        }\n      }\n    });\n    return () => {\n      destroyed = true;\n    };\n  }, [url, location.search]);\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [url]);\n\n  if (state === null) {\n    return <CircularProgressSpinner />;\n  } else {\n    return (\n      <Guest\n        isAuthoring={isAuthoring()}\n        path={state.model?.craftercms.path}\n      >\n        <ContentType\n          {...state}\n          {...props}\n          contentTypeMap={contentTypeMap}\n          notFoundComponent={NotFound}\n        />\n      </Guest>\n    );\n  }\n\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport DynamicRoute from './DynamicRoute';\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/category/:id?\" component={DynamicRoute} />\n        <Route path=\"/tag/:id?\" component={DynamicRoute} />\n        <Route path=\"/*\" component={DynamicRoute} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useGlobalContext } from './context';\nimport en from '../assets/locales/en';\nimport es from '../assets/locales/es';\n\nconst Locales = {\n  en,\n  es\n};\n\nconst AppIntl = (props) => {\n  const [{ locale }] = useGlobalContext();\n  return <IntlProvider {...props} locale={locale} messages={Locales[locale]}/>;\n};\n\nexport default AppIntl;","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Suspense } from 'react';\nimport Router from './Router';\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { GlobalContextProvider } from './context';\nimport AppIntl from './AppIntl';\n\nexport default function App() {\n  return (\n    <GlobalContextProvider>\n      <AppIntl>\n        <Suspense\n          fallback={\n            <CircularProgressSpinner />\n          }\n        >\n          <Router />\n        </Suspense>\n      </AppIntl>\n    </GlobalContextProvider>\n  );\n}\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './shared/App';\nimport Cookies from 'js-cookie';\nimport { siteName } from './shared/utils';\n// import * as serviceWorker from './serviceWorker';\n\nif (Cookies.get('crafterSite') !== siteName) {\n  Cookies.set('crafterSite', siteName);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { crafterConf } from '@craftercms/classes';\nimport Cookies from 'js-cookie';\n\nexport function isAuthoring() {\n  const html = document.documentElement;\n  const attr = html.getAttribute('data-craftercms-preview');\n  return (\n    // eslint-disable-next-line no-template-curly-in-string\n    attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n    attr === 'true'\n  );\n}\n\nexport function createResource(factory) {\n  let result;\n  let status = \"pending\";\n  let suspender = factory().then(\n    response => {\n      status = \"success\";\n      result = response;\n    },\n    error => {\n      status = \"error\";\n      result = error;\n    }\n  );\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n  };\n}\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_CRAFTERCMS_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nexport const crafterConfig = {\n  baseUrl: process.env.REACT_APP_CRAFTERCMS_BASE_URL ?? '',\n  site: siteName\n};\n\ncrafterConf.configure(crafterConfig);\n\nexport function createTaxonomyFilter(name) {\n  return (taxonomy => taxonomy.craftercms.path.includes(name));\n};","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport { isAuthoring } from './utils';\nimport { useSpreadState } from './hooks';\n\nexport const GlobalContext = createContext();\n\nfunction useGlobalContext() {\n  const context = useContext(GlobalContext);\n  if (!context) {\n    throw new Error(`useGlobalContext must be used within a GlobalContextProvider`);\n  }\n  return context;\n}\n\nfunction GlobalContextProvider(props) {\n  const [state, setState] = useSpreadState({\n    isAuthoring: isAuthoring(),\n    locale: 'en',\n    pages: null,\n    pagesLoading: false,\n    theme: 'light'\n  });\n  const value = useMemo(() => [state, setState], [state, setState]);\n  return <GlobalContext.Provider value={value} {...props} />;\n}\n\nexport { GlobalContextProvider, useGlobalContext };\n","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { fetchQuery } from '../fetchQuery';\nimport { useGlobalContext } from './context';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { crafterConfig, createResource } from './utils';\nimport { map } from 'rxjs/operators';\nimport { createQuery, search } from '@craftercms/search';\nimport { parseDescriptor, preParseSearchResults } from '@craftercms/content';\nimport { postsQuery } from './queries.graphql';\n\nexport const neverResource = createResource(() => new Promise(() => void 0));\n\nconst reducer = (state, nextState) => {\n  return { ...state, ...nextState };\n}\n\nexport function useSpreadState(initializerArg, initializer) {\n  return useReducer(reducer, initializerArg, initializer);\n}\n\nexport function useNavigation() {\n  const [{ pages, pagesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n  useEffect(() => {\n    if (!pages && !pagesLoading) {\n      update({ pagesLoading: true });\n      fetchQuery({\n        text: `\n          query Nav {\n            pages {\n              total\n              items {\n                navLabel\n                contentTypeId: content__type\n                url: localId(transform: \"storeUrlToRenderUrl\")\n                placeInNav(filter: { equals: true }) @skip(if: true)\n                orderDefault_f\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ pages: data.pages.items });\n      });\n    }\n  }, [update, pages, pagesLoading]);\n  return pages;\n}\n\nexport function useSearchQuery() {\n  const { search } = useLocation();\n  const [query, setQuery] = useState(() => parse(search).q ?? '');\n  const [page, setPage] = useState(() => parse(search).p ?? 0);\n  const onChange = useCallback((e) => setQuery(e.target.value), []);\n  useEffect(() => {\n    setQuery(parse(search).q ?? '');\n    setPage(parse(search).p ?? 0);\n  }, [search]);\n\n  return [query, onChange, setQuery, page];\n}\n\nconst contentTypes = ['/component/post'];\nexport function useUrlSearchQueryFetchResource(size = 1) {\n  const [query, , , page] = useSearchQuery();\n  const [resource, setResource] = useState(neverResource);\n  // https://github.com/facebook/react/issues/14413\n  useEffect(() => {\n    // FYI: A GraphQL query could also be used instead of a direct Elasticsearch\n\n    const fields = ['headline_t^1.5', 'content_o.item.component.content_html^1'];\n    let searchQuery = {};\n    let userTerm = query;\n    searchQuery.filter = [\n      {\n        'terms': {\n          'content-type': contentTypes.map(id => id)\n        }\n      }\n    ];\n\n    if (userTerm) {\n      // Check if the user is requesting an exact match with quotes\n      const regex = /.*(\"([^\"]+)\").*/;\n      const matcher = userTerm.match(regex);\n      if (matcher) {\n        // Using must excludes any doc that doesn't match with the input from the user\n        searchQuery.must = [\n          {\n            'multi_match': {\n              'query': matcher[2],\n              'fields': fields,\n              'fuzzy_transpositions': false,\n              'auto_generate_synonyms_phrase_query': false\n            }\n          }\n        ];\n\n        // Remove the exact match to continue processing the user input\n        userTerm = userTerm.replace(matcher[1], '');\n      } else {\n        // Exclude docs that do not have any optional matches\n        searchQuery.minimum_should_match = 1;\n      }\n\n      if (userTerm) {\n        // Using should makes it optional and each additional match will increase the score of the doc\n        searchQuery.should = [\n          {\n            'multi_match': {\n              'query': userTerm,\n              'fields': fields,\n              'type': 'phrase_prefix',\n              'boost': 1.5\n            }\n          },\n          {\n            'multi_match': {\n              'query': userTerm,\n              'fields': fields\n            }\n          },\n          {\n            'match': {\n              'pageDescription_s': userTerm\n            }\n          },\n          {\n            'match': {\n              'categories_o.item.value_smv': userTerm\n            }\n          }\n        ]\n      }\n    }\n\n    setResource(createResource(\n      () => search(\n        createQuery({\n          query: {\n            'bool': searchQuery\n          },\n          size,\n          from: page\n        }),\n        crafterConfig\n      ).pipe(\n        map(({ hits, ...rest }) => {\n          const counted = {};\n          const parsedHits = hits.map(({ _source }) => parseDescriptor(\n            preParseSearchResults(_source)\n          )).filter((content) => {\n            // TODO: Search currently coming with duplicates. Should address at the elastic query level.\n            if (content.craftercms.id in counted) {\n              return false;\n            } else {\n              counted[content.craftercms.id] = true;\n              return true;\n            }\n          });\n          return { ...rest, hits: parsedHits };\n        })\n      ).toPromise()\n    ));\n  }, [query, page, size]);\n  return resource;\n}\n\nexport function useFooter() {\n  const [{ footer, footerLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!footer && !footerLoading) {\n      update({ footerLoading: true });\n      fetchQuery({\n        text: `\n          query Footer {\n            component_footer {\n              items {\n                guid: objectId\n                path: localId\n                contentTypeId: content__type\n                dateCreated: createdDate_dt\n                dateModified: lastModifiedDate_dt\n                label: internal__name              \n                aboutTitle_s\n                about_t\n                aboutImage_s\n                quickLinksTitle_s\n                socialLinksTitle_s\n                file__name(filter: {matches: \"site-footer.xml\"})\n                internal__name\n                localId\n                quickLinks_o {\n                  item {\n                    label_s\n                    url_s\n                  }\n                }\n                copyright_html_raw\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ footer: parseDescriptor(data.component_footer.items)[0] });\n      });\n    }\n  }, [update, footer, footerLoading]);\n  return footer;\n}\n\n// stores posts in globalContext to avoid multiple calls\nlet useRecentPostsLoading = false;\nexport function useRecentPosts() {\n  const [{ posts }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!posts && !useRecentPostsLoading) {\n      update({ postsLoading: true });\n      fetchQuery({\n        text: postsQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ posts: parseDescriptor(data.posts.items) });\n      });\n    }\n  }, [update, posts]);\n  return posts;\n}\n\nexport function usePosts(paginationData, categories, tags, exclude) {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    let categoriesFilter = categories\n      ? Array.isArray(categories)\n        ? categories.map(category => ({ matches: category.key }))\n        : [{ matches: categories.key }]\n      : [];\n    let tagsFilter = tags\n      ? Array.isArray(tags)\n        ? tags.map(tag => ({ matches: tag.key }))\n        : [{ matches: tags.key }]\n      : [];\n\n    fetchQuery(\n      { text: postsQuery },\n      {\n        postsLimit: paginationData.itemsPerPage,\n        postsOffset: (paginationData.currentPage * paginationData.itemsPerPage),\n        categoriesFilter,\n        tagsFilter,\n        exclude: exclude??\"\"\n      }\n    ).then(({ data }) => {\n      setPosts({\n        items: parseDescriptor(data.posts.items),\n        total: data.posts.total,\n        pageCount: Math.ceil(data.posts.total/paginationData.itemsPerPage)\n      });\n    });\n  }, [paginationData, categories, tags, exclude]);\n\n  return posts;\n}\n\nexport function useTaxonomiesResource() {\n  const [resource, setResource] = useState(neverResource);\n\n  useEffect(() => {\n    const resource = createResource(\n      () => fetchQuery({\n        text: `\n        query Taxonomies {\n          taxonomy {\n            total\n            items {\n              guid: objectId\n              path: localId\n              contentTypeId: content__type\n              dateCreated: createdDate_dt\n              dateModified: lastModifiedDate_dt\n              label: internal__name\n              items {\n                item {\n                  key\n                  value\n                  image_s\n                }\n              }\n            }\n          }\n        }\n      `\n      })\n    );\n    setResource(resource);\n  }, []);\n  return resource;\n}","/*\n * Copyright (C) 2007-2022 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { siteName } from './shared/utils';\n\nlet graphqlServer = process.env.REACT_APP_GRAPHQL_SERVER;\nif (!graphqlServer.includes(siteName)) {\n  graphqlServer += `?crafterSite=${siteName}`;\n}\n\nexport function fetchQuery(\n  operation,\n  variables\n) {\n  return fetch(graphqlServer, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => response.json());\n}"],"sourceRoot":""}