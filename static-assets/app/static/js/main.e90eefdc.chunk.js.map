{"version":3,"sources":["shared/hooks.js","shared/contentTypeMap.js","shared/utils.js","shared/DynamicRoute.js","shared/Router.js","shared/AppIntl.js","shared/App.js","index.js","shared/context.js","relayEnvironment.js","shared/queries.graphql.js","shared/CircularProgressSpinner.js"],"names":["neverResource","createResource","Promise","reducer","state","nextState","useSpreadState","initializerArg","initializer","useReducer","useNavigation","useGlobalContext","pages","pagesLoading","update","destroyedRef","useRef","useEffect","current","fetchQuery","text","then","data","items","useSearchQuery","search","useLocation","useState","parse","q","query","setQuery","p","page","setPage","onChange","useCallback","e","target","value","contentTypes","useUrlSearchQueryFetchResource","size","resource","setResource","createQuery","map","id","from","crafterConfig","pipe","hits","rest","counted","parsedHits","_source","parseDescriptor","preParseSearchResults","filter","content","craftercms","toPromise","useFooter","footer","footerLoading","component_footer","useRecentPosts","posts","postsLoading","postsQuery","usePosts","paginationData","categories","tags","exclude","setPosts","categoriesFilter","Array","isArray","category","matches","key","tagsFilter","tag","postsLimit","itemsPerPage","postsOffset","currentPage","total","pageCount","Math","ceil","useTaxonomiesResource","lazy","isAuthoring","attr","document","documentElement","getAttribute","factory","result","status","suspender","response","error","read","siteName","getElementById","innerHTML","Cookies","get","Error","baseUrl","process","site","createTaxonomyFilter","name","taxonomy","path","includes","crafterConf","configure","DynamicRoute","props","match","location","setState","url","substring","indexOf","destroyed","parseInt","pagination","limit","offset","reportNavigation","byUrlQuery","includePosts","model","levelDescriptor","levelDescriptors","file__name","meta","siteTitle","siteTitle_s","socialLinks","socialLinks_o","item","disqus","websiteShortname","websiteShortname_s","title","pageTitle_s","pageDescription_s","description","head","querySelector","setAttribute","window","scroll","CircularProgressSpinner","modelId","contentTypeMap","Router","component","Locales","en","es","locale","messages","App","jQuery","AppIntl","fallback","set","ReactDOM","render","StrictMode","GlobalContext","createContext","context","useContext","GlobalContextProvider","theme","$","useMemo","Provider","graphqlServer","operation","variables","fetch","method","headers","body","JSON","stringify","json","Environment","network","Network","create","store","Store","RecordSource","commonFragments","message","screenHeight","className","cx","cy","r","fill","strokeWidth","strokeMiterlimit"],"mappings":"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","file":"static/js/main.e90eefdc.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { fetchQuery } from '../relayEnvironment';\nimport { useGlobalContext } from './context';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { crafterConfig, createResource } from './utils';\nimport { map } from 'rxjs/operators';\nimport { createQuery, search } from '@craftercms/search';\nimport { parseDescriptor, preParseSearchResults } from '@craftercms/content';\nimport { postsQuery } from './queries.graphql';\n\nexport const neverResource = createResource(() => new Promise(() => void 0));\n\nconst reducer = (state, nextState) => {\n  return { ...state, ...nextState };\n}\n\nexport function useSpreadState(initializerArg, initializer) {\n  return useReducer(reducer, initializerArg, initializer);\n}\n\nexport function useNavigation() {\n  const [{ pages, pagesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n  useEffect(() => {\n    if (!pages && !pagesLoading) {\n      update({ pagesLoading: true });\n      fetchQuery({\n        text: `\n          query Nav {\n            pages {\n              total\n              items {\n                navLabel\n                contentTypeId: content__type\n                url: localId(transform: \"storeUrlToRenderUrl\")\n                placeInNav(filter: { equals: true }) @skip(if: true)\n                orderDefault_f\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ pages: data.pages.items });\n      });\n    }\n  }, [update, pages, pagesLoading]);\n  return pages;\n}\n\nexport function useSearchQuery() {\n  const { search } = useLocation();\n  const [query, setQuery] = useState(() => parse(search).q ?? '');\n  const [page, setPage] = useState(() => parse(search).p ?? 0);\n  const onChange = useCallback((e) => setQuery(e.target.value), []);\n  useEffect(() => {\n    setQuery(parse(search).q ?? '');\n    setPage(parse(search).p ?? 0);\n  }, [search]);\n\n  return [query, onChange, setQuery, page];\n}\n\nconst contentTypes = ['/component/post'];\nexport function useUrlSearchQueryFetchResource(size = 1) {\n  const [query, , , page] = useSearchQuery();\n  const [resource, setResource] = useState(neverResource);\n  // https://github.com/facebook/react/issues/14413\n  useEffect(() => {\n    // FYI: A GraphQL query could also be used instead of a direct Elasticsearch\n    setResource(createResource(\n      () => search(\n        createQuery('elasticsearch', {\n          query: {\n            'bool': {\n              'filter': [\n                { 'bool': { 'should': contentTypes.map(id => ({ 'match': { 'content-type': id } })) } },\n                { 'multi_match': { 'query': query, 'type': 'phrase_prefix'} }\n              ]\n            }\n          },\n          size,\n          from: page\n        }),\n        crafterConfig\n      ).pipe(\n        map(({ hits, ...rest }) => {\n          const counted = {};\n          const parsedHits = hits.map(({ _source }) => parseDescriptor(\n            preParseSearchResults(_source)\n          )).filter((content) => {\n            // TODO: Search currently coming with duplicates. Should address at the elastic query level.\n            if (content.craftercms.id in counted) {\n              return false;\n            } else {\n              counted[content.craftercms.id] = true;\n              return true;\n            }\n          });\n          return { ...rest, hits: parsedHits };\n        })\n      ).toPromise()\n    ));\n  }, [query, page, size]);\n  return resource;\n}\n\nexport function useFooter() {\n  const [{ footer, footerLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!footer && !footerLoading) {\n      update({ footerLoading: true });\n      fetchQuery({\n        text: `\n          query Footer {\n            component_footer {\n              items {\n                guid: objectId\n                path: localId\n                contentTypeId: content__type\n                dateCreated: createdDate_dt\n                dateModified: lastModifiedDate_dt\n                label: internal__name              \n                aboutTitle_s\n                about_t\n                aboutImage_s\n                quickLinksTitle_s\n                socialLinksTitle_s\n                file__name(filter: {matches: \"site-footer.xml\"})\n                internal__name\n                localId\n                quickLinks_o {\n                  item {\n                    label_s\n                    url_s\n                  }\n                }\n                copyright_html_raw\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ footer: parseDescriptor(data.component_footer.items)[0] });\n      });\n    }\n  }, [update, footer, footerLoading]);\n  return footer;\n}\n\n// stores posts in globalContext to avoid multiple calls\nlet useRecentPostsLoading = false;\nexport function useRecentPosts() {\n  const [{ posts }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!posts && !useRecentPostsLoading) {\n      update({ postsLoading: true });\n      fetchQuery({\n        text: postsQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ posts: parseDescriptor(data.posts.items) });\n      });\n    }\n  }, [update, posts]);\n  return posts;\n}\n\nexport function usePosts(paginationData, categories, tags, exclude) {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    let categoriesFilter = categories\n      ? Array.isArray(categories)\n        ? categories.map(category => ({ matches: category.key }))\n        : [{ matches: categories.key }]\n      : [];\n    let tagsFilter = tags\n      ? Array.isArray(tags)\n        ? tags.map(tag => ({ matches: tag.key }))\n        : [{ matches: tags.key }]\n      : [];\n\n    fetchQuery(\n      { text: postsQuery },\n      {\n        postsLimit: paginationData.itemsPerPage,\n        postsOffset: (paginationData.currentPage * paginationData.itemsPerPage),\n        categoriesFilter,\n        tagsFilter,\n        exclude: exclude??\"\"\n      }\n    ).then(({ data }) => {\n      setPosts({\n        items: parseDescriptor(data.posts.items),\n        total: data.posts.total,\n        pageCount: Math.ceil(data.posts.total/paginationData.itemsPerPage)\n      });\n    });\n  }, [paginationData, categories, tags, exclude]);\n\n  return posts;\n}\n\nexport function useTaxonomiesResource() {\n  const [resource, setResource] = useState(neverResource);\n\n  useEffect(() => {\n    const resource = createResource(\n      () => fetchQuery({\n        text: `\n        query Taxonomies {\n          taxonomy {\n            total\n            items {\n              guid: objectId\n              path: localId\n              contentTypeId: content__type\n              dateCreated: createdDate_dt\n              dateModified: lastModifiedDate_dt\n              label: internal__name\n              items {\n                item {\n                  key\n                  value\n                  image_s\n                }\n              }\n            }\n          }\n        }\n      `\n      })\n    );\n    setResource(resource);\n  }, []);\n  return resource;\n}","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { lazy } from 'react';\n\nexport default {\n  '/page/entry': lazy(() => import('../pages/Home')),\n  '/page/about': lazy(() => import('../pages/About')),\n  '/page/contact': lazy(() => import('../pages/Contact')),\n  '/page/category': lazy(() => import('../pages/Category')),\n  '/page/search': lazy(() => import('../pages/Search')),\n  '/component/header': lazy(() => import('../components/Header')),\n  '/component/footer': lazy(() => import('../components/Footer')),\n  '/component/bio': lazy(() => import('../components/Bio')),\n  '/component/image': lazy(() => import('../components/Image')),\n  '/component/responsive_columns': lazy(() => import('../components/ResponsiveColumns')),\n  '/component/rich_text': lazy(() => import('../components/RichText')),\n  '/component/slider': lazy(() => import('../components/Slider')),\n  '/component/post': lazy(() => import('../pages/Post'))\n};\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { crafterConf } from '@craftercms/classes';\nimport Cookies from 'js-cookie';\n\nexport function isAuthoring() {\n  const html = document.documentElement;\n  const attr = html.getAttribute('data-craftercms-preview');\n  return (\n    // eslint-disable-next-line no-template-curly-in-string\n    attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n    attr === 'true'\n  );\n}\n\nexport function createResource(factory) {\n  let result;\n  let status = \"pending\";\n  let suspender = factory().then(\n    response => {\n      status = \"success\";\n      result = response;\n    },\n    error => {\n      status = \"error\";\n      result = error;\n    }\n  );\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n  };\n}\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_CRAFTERCMS_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nexport const crafterConfig = {\n  baseUrl: process.env.REACT_APP_CRAFTERCMS_BASE_URL ?? '',\n  site: siteName\n};\n\ncrafterConf.configure(crafterConfig);\n\nexport function createTaxonomyFilter(name) {\n  return (taxonomy => taxonomy.craftercms.path.includes(name));\n};","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { fetchQuery } from '../relayEnvironment';\nimport byUrlQuery from './queries.graphql';\nimport { parseDescriptor } from '@craftercms/content';\nimport { reportNavigation } from '@craftercms/ice';\nimport { parse } from 'query-string';\nimport { isAuthoring } from './utils';\nimport { Guest, ContentType } from '@craftercms/studio-guest';\nimport contentTypeMap from './contentTypeMap';\n\nconst limit = 8;\n\nexport default function DynamicRoute(props) {\n  const { match, location } = props;\n  const [state, setState] = useState(null);\n  let url = match.path.includes(':')\n    ? match.path.substring(0, match.path.indexOf(':') -1)\n    : match.url;\n\n  useEffect(() => {\n    let destroyed = false;\n    let page = parseInt(parse(location.search).page ?? 1) - 1;\n    const pagination = { limit, offset: page ? (page * limit) : 0 };\n    reportNavigation(url);\n    fetchQuery(\n      { text: byUrlQuery },\n      {\n        url: `.*${url === '/' ? 'website/index' : url}.*`,\n        includePosts: true,\n        postsLimit: pagination.limit,\n        postsOffset: pagination.offset\n      }\n    ).then(({ data }) => {\n      if (!destroyed) {\n        const model = parseDescriptor(data.content.items?.[0]);\n        const levelDescriptor = data.levelDescriptors.items\n          .filter(levelDescriptor => levelDescriptor.file__name === 'crafter-level-descriptor.level.xml')\n          .map(levelDescriptor => levelDescriptor)[0];\n\n        setState({\n          model,\n          meta: {\n            siteTitle: levelDescriptor.siteTitle_s,\n            socialLinks: levelDescriptor.socialLinks_o.item,\n            disqus: {\n              websiteShortname: levelDescriptor.websiteShortname_s\n            },\n            posts: {\n              total: data.posts.total,\n              ...pagination\n            }\n          }\n        });\n        if (model) {\n          document.title = model.pageTitle_s ?? 'Wordify Crafter CMS';\n          if (model.pageDescription_s) {\n            const description = document.head.querySelector('meta[name=\"description\"]');\n            description && description.setAttribute('content', model.pageDescription_s ?? '');\n          }\n        }\n      }\n    });\n    return () => {\n      destroyed = true;\n    };\n  }, [url, location.search]);\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [url]);\n\n  if (state === null) {\n    return <CircularProgressSpinner />;\n  } else {\n    return (\n      <Guest\n        modelId={state.model?.craftercms.id}\n        isAuthoring={isAuthoring()}\n        path={state.model?.craftercms.path}\n      >\n        <ContentType {...state} {...props} contentTypeMap={contentTypeMap} />\n      </Guest>\n    );\n  }\n\n}\n\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport DynamicRoute from './DynamicRoute';\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/category/:id?\" component={DynamicRoute} />\n        <Route path=\"/tag/:id?\" component={DynamicRoute} />\n        <Route path=\"/*\" component={DynamicRoute} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useGlobalContext } from './context';\nimport en from '../assets/locales/en';\nimport es from '../assets/locales/es';\n\nconst Locales = {\n  en,\n  es\n};\n\nexport default (props) => {\n  const [{ locale }] = useGlobalContext();\n  return <IntlProvider {...props} locale={locale} messages={Locales[locale]}/>;\n};\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Suspense } from 'react';\nimport Router from './Router';\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { GlobalContextProvider } from './context';\nimport AppIntl from './AppIntl';\n\nexport default function App(props) {\n  return (\n    <GlobalContextProvider jQuery={props.jQuery}>\n      <AppIntl>\n        <Suspense\n          fallback={\n            <CircularProgressSpinner />\n          }\n        >\n          <Router />\n        </Suspense>\n      </AppIntl>\n    </GlobalContextProvider>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './shared/App';\nimport Cookies from 'js-cookie';\nimport { siteName } from './shared/utils';\n// import * as serviceWorker from './serviceWorker';\n\nif (Cookies.get('crafterSite') !== siteName) {\n  Cookies.set('crafterSite', siteName);\n}\n\n// On occasions, Crafter's jQuery overrides the site's jQuery\n// briefly. This will get fixed on next releases of Crafter CMS,\n// but for now, adding jQuery to the global context to 'cache' it.\nReactDOM.render(\n  <React.StrictMode>\n    <App jQuery={window.jQuery} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport { isAuthoring } from './utils';\nimport { useSpreadState } from './hooks';\n\nexport const GlobalContext = createContext();\n\nfunction useGlobalContext() {\n  const context = useContext(GlobalContext);\n  if (!context) {\n    throw new Error(`useGlobalContext must be used within a GlobalContextProvider`);\n  }\n  return context;\n}\n\nfunction GlobalContextProvider(props) {\n  const [state, setState] = useSpreadState({\n    isAuthoring: isAuthoring(),\n    locale: 'en',\n    pages: null,\n    pagesLoading: false,\n    theme: 'light',\n    $: props.jQuery\n  });\n  const value = useMemo(() => [state, setState], [state, setState]);\n  return <GlobalContext.Provider value={value} {...props} />;\n}\n\nexport { GlobalContextProvider, useGlobalContext };\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {\n  Environment,\n  Network,\n  RecordSource,\n  Store\n} from 'relay-runtime';\nimport { siteName } from './shared/utils';\n\nlet graphqlServer = process.env.REACT_APP_GRAPHQL_SERVER;\nif (!graphqlServer.includes(siteName)) {\n  graphqlServer += `?crafterSite=${siteName}`;\n}\n\nexport function fetchQuery(\n  operation,\n  variables\n) {\n  return fetch(graphqlServer, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => response.json());\n}\n\nconst environment = new Environment({\n  network: Network.create(fetchQuery),\n  store: new Store(new RecordSource()),\n});\n\nexport default environment;\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n// language=GraphQL\nconst commonFragments = `  \n  fragment byUrlQueryPost on component_post {\n    ...byUrlQueryContentItemFields\n    slug: localId(transform: \"storeUrlToRenderUrl\")\n    pageTitle_s\n    pageDescription_s\n    blurb_t\n    headline_s\n    mainImage_s\n    content_o {\n      item {\n        key\n        component {\n          ...on component_rich_text {\n            ...byUrlQueryRichText\n          }\n          ...on component_image {\n            ...byUrlQueryImage\n          }\n          ...on component_responsive_columns {\n            ...byUrlQueryResponsiveColumns\n          }\n        }\n      }\n    }\n    authorBio_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    categories_o {\n      item {\n        key(filter: {or: $categoriesFilter})\n        value_smv\n      }\n    }\n    tags_o {\n      item {\n        value_smv\n        key(filter: {or: $tagsFilter})\n      }\n    }\n  }\n\n  fragment byUrlQueryContentItemFields on ContentItem {\n    guid: objectId\n    path: localId(filter: {not: [{equals: $exclude}]})\n    contentTypeId: content__type\n    dateCreated: createdDate_dt\n    dateModified: lastModifiedDate_dt\n    label: internal__name\n  }\n\n  fragment byUrlQueryBioFragment on component_bio {\n    guid: objectId\n    contentTypeId: content__type\n    label: internal__name\n    path: localId\n    bio_t\n    name_s\n    profilePic_s\n    linkButtonText_s\n    linkButtonUrl_s\n    showLinkButton_b\n    facebookLink_s\n    twitterLink_s\n    instagramLink_s\n    youTubeLink_s\n  }\n\n  fragment byUrlQueryRichText on component_rich_text {\n    ...byUrlQueryContentItemFields\n    content_html: content_html_raw\n  }\n\n  fragment byUrlQueryImage on component_image {\n    ...byUrlQueryContentItemFields\n    image_s\n    alternativeText_s\n  }\n\n  fragment byUrlQueryResponsiveColumns on component_responsive_columns {\n    ...byUrlQueryContentItemFields\n    columns_o {\n      item {\n        columnSize_s\n        content_o {\n          item {\n            key\n            component {\n              ...on component_rich_text {\n                ...byUrlQueryRichText\n              }\n              ...on component_image {\n                ...byUrlQueryImage\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\n// language=GraphQL\nexport default `\n  ${commonFragments}\n\n  fragment byUrlQueryHomepage on page_entry  {\n    pageTitle_s\n    pageDescription_s\n    bios_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    slider_o {\n      item {\n        key\n        component {\n          ...byUrlQueryContentItemFields\n          ...on component_slider {\n            ...byUrlQuerySlider\n          }\n        }\n      }\n    }\n  }\n  \n  fragment byUrlQueryAboutPage on page_about {\n    pageTitle_s\n    pageDescription_s\n    headline_s\n    bios_o {\n      item {\n        key\n        component {\n          ...byUrlQueryBioFragment\n        }\n      }\n    }\n    content_o {\n      item {\n        key\n        component {\n          ...on component_rich_text {\n            ...byUrlQueryRichText\n          }\n          ...on component_image {\n            ...byUrlQueryImage\n          }\n          ...on component_responsive_columns {\n            ...byUrlQueryResponsiveColumns\n          }\n        }\n      }\n    }\n  }\n\n  fragment byUrlQueryContactPage on page_contact {\n    pageTitle_s\n    pageDescription_s\n    message_t\n    headline_s\n  }\n\n  fragment byUrlQueryCategoryPage on page_category {\n    pageTitle_s\n    pageDescription_s\n  }\n\n  fragment byUrlQuerySlider on component_slider {\n    ...byUrlQueryContentItemFields\n    posts_o {\n      item {\n        key\n        component {\n          ...byUrlQueryContentItemFields\n          slug: localId(transform: \"storeUrlToRenderUrl\")\n          pageTitle_s\n          pageDescription_s\n          blurb_t\n          headline_s\n          mainImage_s\n          authorBio_o {\n            item {\n              key,\n              component {\n                ...byUrlQueryBioFragment\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  query byUrlQuery(\n    $url: String\n    $skipContentType: Boolean = true\n    $includePosts: Boolean = true\n    $postsLimit: Int = 8\n    $postsOffset: Int = 0\n    $exclude: String = \"\"\n    $categoriesFilter: [TextFilters!] = []\n    $tagsFilter: [TextFilters!] = []\n  ) {\n    content: contentItems {\n      total\n      items {\n        ...byUrlQueryContentItemFields\n        url: localId(\n          transform: \"storeUrlToRenderUrl\",\n          filter:{ regex: $url }\n        )\n        content__type(\n          filter:{\n            regex: \".*(bio|post|entry|category|contact|about|search).*\"\n          }\n        ) @skip (if: $skipContentType)\n        ...on page_entry {\n          ...byUrlQueryHomepage\n        }\n        ...on page_about {\n          ...byUrlQueryAboutPage\n        }\n        ...on page_contact {\n          ...byUrlQueryContactPage\n        }\n        ...on page_category {\n          ...byUrlQueryCategoryPage\n        }\n        ...on component_post {\n          ...byUrlQueryPost\n        }\n      }\n    }\n    levelDescriptors: component_level__descriptor {\n      items {\n        siteTitle_s\n        file__name\n        websiteShortname_s\n        socialLinks_o {\n          item {\n            socialNetwork_s\n            label_s\n            url_s\n          }\n        }\n      }\n    }\n    posts: component_post(\n      limit: $postsLimit,\n      offset: $postsOffset,\n      sortOrder: DESC,\n      sortBy: \"lastModifiedDate_dt\"\n    ) @include(if: $includePosts) {\n      total\n      items {\n        ...byUrlQueryPost\n      }\n    }\n  }\n`;\n\n//language=GraphQL\nexport const postsQuery = `\n  ${commonFragments}\n\n  query postsQuery(\n    $postsLimit: Int = 8\n    $postsOffset: Int = 0\n    $exclude: String = \"\"\n    $categoriesFilter: [TextFilters!] = []\n    $tagsFilter: [TextFilters!] = []\n  ) {\n    posts: component_post(\n      limit: $postsLimit,\n      offset: $postsOffset,\n      sortOrder: DESC,\n      sortBy: \"lastModifiedDate_dt\"\n    ) {\n      total\n      items {\n        ...byUrlQueryPost\n      }\n    }\n  }\n`;","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function CircularProgressSpinner(props) {\n  const { message, screenHeight = true } = props;\n  return (\n    <div className={`circular-progress-spinner ${screenHeight ? 'circular-progress-spinner__screen-height' : ''}`}>\n      <div className=\"circular-progress-spinner--graphic-container\">\n        <svg className=\"circular-progress-spinner--graphic\">\n          <circle className=\"circular-progress-spinner--path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\n        </svg>\n      </div>\n      {\n        message &&\n        <p className=\"circular-progress-spinner--message\">{message}</p>\n      }\n    </div>\n  );\n}\n"],"sourceRoot":""}