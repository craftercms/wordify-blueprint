{"version":3,"sources":["pages/NotFound.js","shared/DynamicRoute.js","shared/Router.js","shared/AppIntl.js","shared/App.js","index.js","shared/utils.js","shared/context.js","shared/hooks.js","fetchQuery.js","shared/queries.graphql.js","shared/CircularProgressSpinner.js","components/Header.js","components/Footer.js","shared/BaseLayout.js","shared/SearchForm.js","shared/contentTypeMap.js"],"names":["NotFound","levelDescriptor","meta","BaseLayout","model","style","textAlign","padding","DynamicRoute","props","match","location","useState","state","setState","url","path","includes","substring","indexOf","useEffect","destroyed","page","parseInt","parse","search","pagination","limit","offset","fetchQuery","text","byUrlQuery","includePosts","postsLimit","postsOffset","then","data","parseDescriptor","content","items","levelDescriptors","filter","file__name","pop","disqus","websiteShortname","websiteShortname_s","posts","total","document","title","pageTitle_s","pageDescription_s","description","head","querySelector","setAttribute","window","scroll","CircularProgressSpinner","isAuthoring","craftercms","contentTypeMap","notFoundComponent","Router","component","Locales","en","es","AppIntl","useGlobalContext","locale","messages","App","fallback","Cookies","get","siteName","set","ReactDOM","render","StrictMode","getElementById","attr","documentElement","getAttribute","createResource","factory","result","status","suspender","response","error","read","innerHTML","Error","crafterConfig","baseUrl","process","site","createTaxonomyFilter","name","taxonomy","crafterConf","configure","GlobalContext","createContext","context","useContext","GlobalContextProvider","useSpreadState","pages","pagesLoading","theme","value","useMemo","Provider","neverResource","Promise","reducer","nextState","initializerArg","initializer","useReducer","useNavigation","update","destroyedRef","useRef","current","useSearchQuery","useLocation","q","query","setQuery","p","setPage","onChange","useCallback","e","target","contentTypes","useUrlSearchQueryFetchResource","size","resource","setResource","fields","searchQuery","userTerm","map","id","matcher","must","replace","minimum_should_match","should","createQuery","from","pipe","hits","rest","counted","parsedHits","_source","preParseSearchResults","toPromise","useFooter","footer","footerLoading","component_footer","useRecentPosts","postsLoading","postsQuery","usePosts","paginationData","categories","tags","exclude","setPosts","categoriesFilter","Array","isArray","category","matches","key","tagsFilter","tag","itemsPerPage","currentPage","pageCount","Math","ceil","useTaxonomiesResource","graphqlServer","operation","variables","fetch","method","headers","body","JSON","stringify","json","commonFragments","main","message","screenHeight","className","cx","cy","r","fill","strokeWidth","strokeMiterlimit","Header","nav","showMobileMenu","setShowMobileMenu","role","fieldId","format","socialLinks","link","index","socialNetwork_s","rel","href","url_s","classes","form","placeholder","data-toggle","onClick","aria-expanded","aria-controls","Link","to","sort","a","orderDefault_f","b","exact","activeClassName","navLabel","Footer","renderTarget","alt","quickLinks_o","i","label_s","dangerouslySetInnerHTML","__html","copyright_html_raw","children","count","SearchForm","history","useHistory","Object","assign","input","inputWrapper","onSubmit","preventDefault","trim","push","type","lazy"],"mappings":"iSAmBe,SAASA,EAAT,GAAkD,IAAtBC,EAAqB,EAA7BC,KAAQD,gBACzC,OACE,kBAACE,EAAA,EAAD,CAAYC,MAAOH,GACjB,6BAASI,MAAO,CAAEC,UAAW,SAAUC,QAAS,WAC9C,yCACA,4ECMO,SAASC,EAAaC,GAAQ,IA6DpC,EA5DCC,EAAoBD,EAApBC,MAAOC,EAAaF,EAAbE,SAD2B,EAEhBC,mBAAS,MAFO,mBAEnCC,EAFmC,KAE5BC,EAF4B,KAGtCC,EAAML,EAAMM,KAAKC,SAAS,KAC1BP,EAAMM,KAAKE,UAAU,EAAGR,EAAMM,KAAKG,QAAQ,KAAO,GAClDT,EAAMK,IAsDV,OApDAK,qBAAU,WAAO,IAAD,EACVC,GAAY,EACZC,EAAOC,SAAQ,UAACC,gBAAMb,EAASc,QAAQH,YAAxB,QAAgC,GAAK,EAClDI,EAAa,CAAEC,MAZX,EAYkBC,OAAQN,EAZ1B,EAYkCA,EAAgB,GAwC5D,OAvCAO,YACE,CAAEC,KAAMC,KACR,CACEhB,IAAI,KAAD,OAAe,MAARA,EAAc,gBAAkBA,EAAvC,MACHiB,cAAc,EACdC,WAAYP,EAAWC,MACvBO,YAAaR,EAAWE,SAE1BO,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACR,IAAKf,EAAW,CAAC,IAAD,EAqBH,EApBLjB,EAAQiC,YAAe,UAACD,EAAKE,QAAQC,aAAd,aAAC,EAAqB,IAC7CtC,EAAkBoC,YACtBD,EAAKI,iBAAiBD,MACnBE,QAAO,SAAAxC,GAAe,MAAmC,uCAA/BA,EAAgByC,cAC1CC,OAgBL,GAbA7B,EAAS,CACPV,QACAF,KAAM,CACJD,kBACA2C,OAAQ,CACNC,iBAAkB5C,EAAgB6C,oBAEpCC,MAAM,aACJC,MAAOZ,EAAKW,MAAMC,OACftB,MAILtB,EAEF,GADA6C,SAASC,MAAT,UAAiB9C,EAAM+C,mBAAvB,QAAsC,sBAClC/C,EAAMgD,kBAAmB,CAAC,IAAD,EACrBC,EAAcJ,SAASK,KAAKC,cAAc,4BAChDF,GAAeA,EAAYG,aAAa,UAAzB,UAAoCpD,EAAMgD,yBAA1C,QAA+D,SAK/E,WACL/B,GAAY,KAEb,CAACN,EAAKJ,EAASc,SAElBL,qBAAU,WACRqC,OAAOC,OAAO,EAAG,KAChB,CAAC3C,IAEU,OAAVF,EACK,kBAAC8C,EAAA,EAAD,MAGL,kBAAC,IAAD,CACEC,YAAaA,cACb5C,KAAI,UAAEH,EAAMT,aAAR,aAAE,EAAayD,WAAW7C,MAE9B,kBAAC,IAAD,iBACMH,EACAJ,EAFN,CAGEqD,eAAgBA,IAChBC,kBAAmB/D,MChFd,SAASgE,IACtB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOhD,KAAK,iBAAiBiD,UAAWzD,IACxC,kBAAC,IAAD,CAAOQ,KAAK,YAAYiD,UAAWzD,IACnC,kBAAC,IAAD,CAAOQ,KAAK,KAAKiD,UAAWzD,M,qBCL9B0D,EAAU,CACdC,G,MACAC,G,OAQaC,EALC,SAAC5D,GAAW,IAAD,EACJ6D,cAAZC,EADgB,oBAChBA,OACT,OAAO,kBAAC,IAAD,iBAAkB9D,EAAlB,CAAyB8D,OAAQA,EAAQC,SAAUN,EAAQK,OCPrD,SAASE,IACtB,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,WAAD,CACEC,SACE,kBAACf,EAAA,EAAD,OAGF,kBAACK,EAAD,S,qBCRNW,IAAQC,IAAI,iBAAmBC,KACjCF,IAAQG,IAAI,cAAeD,KAG7BE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACR,EAAD,OAEFxB,SAASiC,eAAe,U,sOCZnB,SAAStB,IACd,IACMuB,EADOlC,SAASmC,gBACJC,aAAa,2BAC/B,MAEW,qBAATF,GACS,SAATA,EAIG,SAASG,EAAeC,GAC7B,IAAIC,EACAC,EAAS,UACTC,EAAYH,IAAUpD,MACxB,SAAAwD,GACEF,EAAS,UACTD,EAASG,KAEX,SAAAC,GACEH,EAAS,QACTD,EAASI,KAGb,MAAO,CACLC,KADK,WAEH,GAAe,YAAXJ,EACF,MAAMC,EACD,GAAe,UAAXD,EACT,MAAMD,EACD,GAAe,YAAXC,EACT,OAAOD,IAMR,IAAMX,EACX5B,SAASiC,eAAe,YAAYY,WAEpCnB,IAAQC,IAAI,eACd,IAAKC,EACH,MAAM,IAAIkB,MAAM,iBAGX,IAAMC,EAAgB,CAC3BC,SAASC,OACTC,KAAMtB,GAKD,SAASuB,EAAqBC,GACnC,OAAQ,SAAAC,GAAQ,OAAIA,EAASzC,WAAW7C,KAAKC,SAASoF,IAHxDE,IAAYC,UAAUR,I,+IChDTS,EAAgBC,0BAE7B,SAASpC,IACP,IAAMqC,EAAUC,qBAAWH,GAC3B,IAAKE,EACH,MAAM,IAAIZ,MAAJ,gEAER,OAAOY,EAGT,SAASE,EAAsBpG,GAAQ,IAAD,EACVqG,YAAe,CACvClD,YAAaA,cACbW,OAAQ,KACRwC,MAAO,KACPC,cAAc,EACdC,MAAO,UAN2B,mBAC7BpG,EAD6B,KACtBC,EADsB,KAQ9BoG,EAAQC,mBAAQ,iBAAM,CAACtG,EAAOC,KAAW,CAACD,EAAOC,IACvD,OAAO,kBAAC2F,EAAcW,SAAf,eAAwBF,MAAOA,GAAWzG,M,0ZCZtC4G,EAAgB/B,aAAe,kBAAM,IAAIgC,SAAQ,kBAExDC,EAAU,SAAC1G,EAAO2G,GACtB,OAAO,2BAAK3G,GAAU2G,IAGjB,SAASV,EAAeW,EAAgBC,GAC7C,OAAOC,qBAAWJ,EAASE,EAAgBC,GAGtC,SAASE,IAAiB,IAAD,EACYtD,cADZ,0BACrByC,EADqB,EACrBA,MAAOC,EADc,EACdA,aAAgBa,EADF,KAExBC,EAAeC,kBAAO,GA6B5B,OA5BA3G,qBAAU,WACR,OAAO,WACL0G,EAAaE,SAAU,KAExB,IACH5G,qBAAU,WACH2F,GAAUC,IACba,EAAO,CAAEb,cAAc,IACvBnF,YAAW,CACTC,KAAK,kYAcJK,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACP0F,EAAaE,SAAYH,EAAO,CAAEd,MAAO3E,EAAK2E,MAAMxE,cAGzD,CAACsF,EAAQd,EAAOC,IACZD,EAGF,SAASkB,IAAkB,IACxBxG,EAAWyG,cAAXzG,OADuB,EAELb,oBAAS,kCAAMY,gBAAMC,GAAQ0G,SAApB,QAAyB,MAF7B,mBAExBC,EAFwB,KAEjBC,EAFiB,OAGPzH,oBAAS,kCAAMY,gBAAMC,GAAQ6G,SAApB,QAAyB,KAH3B,mBAGxBhH,EAHwB,KAGlBiH,EAHkB,KAIzBC,EAAWC,uBAAY,SAACC,GAAD,OAAOL,EAASK,EAAEC,OAAOzB,SAAQ,IAM9D,OALA9F,qBAAU,WAAO,IAAD,IACdiH,EAAQ,UAAC7G,gBAAMC,GAAQ0G,SAAf,QAAoB,IAC5BI,EAAO,UAAC/G,gBAAMC,GAAQ6G,SAAf,QAAoB,KAC1B,CAAC7G,IAEG,CAAC2G,EAAOI,EAAUH,EAAU/G,GAGrC,IAAMsH,EAAe,CAAC,mBACf,SAASC,IAA0C,IAAXC,EAAU,uDAAH,EAAG,EAC7Bb,IAD6B,mBAChDG,EADgD,KACrC9G,EADqC,OAEvBV,mBAASyG,GAFc,mBAEhD0B,EAFgD,KAEtCC,EAFsC,KAsGvD,OAlGA5H,qBAAU,WAGR,IAAM6H,EAAS,CAAC,iBAAkB,2CAC9BC,EAAc,GACdC,EAAWf,EASf,GARAc,EAAYzG,OAAS,CACnB,CACE,MAAS,CACP,eAAgBmG,EAAaQ,KAAI,SAAAC,GAAE,OAAIA,QAKzCF,EAAU,CAEZ,IACMG,EAAUH,EAASzI,MADX,mBAEV4I,GAEFJ,EAAYK,KAAO,CACjB,CACE,YAAe,CACb,MAASD,EAAQ,GACjB,OAAUL,EACV,sBAAwB,EACxB,qCAAuC,KAM7CE,EAAWA,EAASK,QAAQF,EAAQ,GAAI,KAGxCJ,EAAYO,qBAAuB,EAGjCN,IAEFD,EAAYQ,OAAS,CACnB,CACE,YAAe,CACb,MAASP,EACT,OAAUF,EACV,KAAQ,gBACR,MAAS,MAGb,CACE,YAAe,CACb,MAASE,EACT,OAAUF,IAGd,CACE,MAAS,CACP,kBAAqBE,IAGzB,CACE,MAAS,CACP,8BAA+BA,MAOzCH,EAAY1D,aACV,kBAAM7D,YACJkI,YAAY,gBAAiB,CAC3BvB,MAAO,CACL,KAAQc,GAEVJ,OACAc,KAAMtI,IAER0E,KACA6D,KACAT,aAAI,YAAwB,IAArBU,EAAoB,EAApBA,KAASC,EAAW,wBACnBC,EAAU,GACVC,EAAaH,EAAKV,KAAI,gBAAGc,EAAH,EAAGA,QAAH,OAAiB7H,YAC3C8H,YAAsBD,OACrBzH,QAAO,SAACH,GAET,QAAIA,EAAQuB,WAAWwF,MAAMW,KAG3BA,EAAQ1H,EAAQuB,WAAWwF,KAAM,GAC1B,MAGX,OAAO,2BAAKU,GAAZ,IAAkBD,KAAMG,QAE1BG,kBAEH,CAAChC,EAAO9G,EAAMwH,IACVC,EAGF,SAASsB,IAAa,IAAD,EACkB/F,cADlB,0BACjBgG,EADiB,EACjBA,OAAQC,EADS,EACTA,cAAiB1C,EADR,KAEpBC,EAAeC,kBAAO,GA8C5B,OA5CA3G,qBAAU,WACR,OAAO,WACL0G,EAAaE,SAAU,KAExB,IAEH5G,qBAAU,WACHkJ,GAAWC,IACd1C,EAAO,CAAE0C,eAAe,IACxB1I,YAAW,CACTC,KAAK,o2BA6BJK,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACP0F,EAAaE,SAAYH,EAAO,CAAEyC,OAAQjI,YAAgBD,EAAKoI,iBAAiBjI,OAAO,WAG5F,CAACsF,EAAQyC,EAAQC,IACbD,EAKF,SAASG,IAAkB,IAAD,EACHnG,cADG,mBACtBvB,EADsB,KACtBA,MAAS8E,EADa,KAEzBC,EAAeC,kBAAO,GAkB5B,OAhBA3G,qBAAU,WACR,OAAO,WACL0G,EAAaE,SAAU,KAExB,IAEH5G,qBAAU,WACH2B,IACH8E,EAAO,CAAE6C,cAAc,IACvB7I,YAAW,CACTC,KAAM6I,MACLxI,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACP0F,EAAaE,SAAYH,EAAO,CAAE9E,MAAOV,YAAgBD,EAAKW,MAAMR,eAGzE,CAACsF,EAAQ9E,IACLA,EAGF,SAAS6H,EAASC,EAAgBC,EAAYC,EAAMC,GAAU,IAAD,EACxCpK,qBADwC,mBAC3DmC,EAD2D,KACpDkI,EADoD,KAiClE,OA9BA7J,qBAAU,WACR,IAAI8J,EAAmBJ,EACnBK,MAAMC,QAAQN,GACZA,EAAW1B,KAAI,SAAAiC,GAAQ,MAAK,CAAEC,QAASD,EAASE,QAChD,CAAC,CAAED,QAASR,EAAWS,MACzB,GACAC,EAAaT,EACbI,MAAMC,QAAQL,GACZA,EAAK3B,KAAI,SAAAqC,GAAG,MAAK,CAAEH,QAASG,EAAIF,QAChC,CAAC,CAAED,QAASP,EAAKQ,MACnB,GAEJ1J,YACE,CAAEC,KAAM6I,KACR,CACE1I,WAAY4I,EAAea,aAC3BxJ,YAAc2I,EAAec,YAAcd,EAAea,aAC1DR,mBACAM,aACAR,QAAO,OAAEA,QAAF,IAAEA,IAAS,KAEpB7I,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACR6I,EAAS,CACP1I,MAAOF,YAAgBD,EAAKW,MAAMR,OAClCS,MAAOZ,EAAKW,MAAMC,MAClB4I,UAAWC,KAAKC,KAAK1J,EAAKW,MAAMC,MAAM6H,EAAea,qBAGxD,CAACb,EAAgBC,EAAYC,EAAMC,IAE/BjI,EAGF,SAASgJ,IAAyB,IAAD,EACNnL,mBAASyG,GADH,mBAC/B0B,EAD+B,KACrBC,EADqB,KAgCtC,OA7BA5H,qBAAU,WACR,IAAM2H,EAAWzD,aACf,kBAAMzD,YAAW,CACfC,KAAK,uhBAwBTkH,EAAYD,KACX,IACIA,I,gCC9UT,8CAkBIiD,EAAgB9F,sBAKb,SAASrE,EACdoK,EACAC,GAEA,OAAOC,MAAMH,EAAe,CAC1BI,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBpE,MAAO6D,EAAUnK,KACjBoK,gBAED/J,MAAK,SAAAwD,GAAQ,OAAIA,EAAS8G,UAjB1BT,EAAc/K,SAAS4D,OAC1BmH,GAAa,uBAAoBnH,O,gCCpBnC,kCAiBA,IAAM6H,EAAe,u6FA4GfC,EAAI,gBACJD,EADI,y/IAqKG/B,EAAU,gBACjB+B,EADiB,2gBAwBRC,O,gCC1Tf,sDAkBe,SAAShJ,EAAwBlD,GAAQ,IAC9CmM,EAAiCnM,EAAjCmM,QAD6C,EACZnM,EAAxBoM,oBADoC,SAErD,OACE,yBAAKC,UAAS,oCAA+BD,EAAe,2CAA6C,KACvG,yBAAKC,UAAU,gDACb,yBAAKA,UAAU,sCACb,4BAAQA,UAAU,kCAAkCC,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,KAAK,OAAOC,YAAY,IAAIC,iBAAiB,SAI1HR,GACA,uBAAGE,UAAU,sCAAsCF,M,0ICP5C,SAASS,EAAT,GAA4B,IAAVjN,EAAS,EAATA,MACzBkN,EAAM1F,cAD4B,EAEIhH,oBAAS,GAFb,mBAEjC2M,EAFiC,KAEjBC,EAFiB,KAIxC,OACE,4BAAQC,KAAK,UACX,yBAAKX,UAAU,WACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,kBAAC,IAAD,CACEA,UAAU,eACV1M,MAAOA,EACPsN,QAAQ,gBACRC,OAAQ,SAACC,GAAD,cAAiBA,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAaxE,KAAI,SAACyE,EAAMC,GAAP,OACxC,kBAAC,IAAD,CACE7J,UAAU,IACVsH,IAAG,UAAKsC,EAAKE,gBAAV,YAA6BD,GAChCnF,OAAO,SACPqF,IAAI,sBACJC,KAAMJ,EAAKK,MACX9N,MAAOA,EACPsN,QAAQ,gBACRI,MAAOA,EACPH,OAAQ,SAACE,GAAD,OAAU,0BAAMf,UAAS,gBAAWe,EAAKE,4BAIvD,yBAAKjB,UAAU,oBACb,kBAAC,IAAD,CACEqB,QAAS,CAAEC,KAAM,mBACjBC,YAAY,kCAMtB,yBAAKvB,UAAU,uBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,sBACb,uBACEA,UAAU,oCACVwB,cAAY,WACZL,KAAK,cACLM,QAxCS,kBAAMf,GAAmBD,IAyClCE,KAAK,SACLe,gBAAc,QACdC,gBAAc,cACf,0BAAM3B,UAAU,kBACjB,wBAAIA,UAAU,aACZ,kBAAC,IAAD,CAAa1M,MAAOA,EAAOsN,QAAQ,cAAczJ,UAAWyK,IAAMC,GAAG,UAK7E,yBAAK7B,UAAU,iDACb,yBAAKA,UAAU,aACb,yBAAKA,UAAS,mCAA8BS,EAAiB,OAAS,IAAMlE,GAAG,cAC7E,wBAAIyD,UAAU,sBAAd,OAEIQ,QAFJ,IAEIA,OAFJ,EAEIA,EAAKsB,MACH,kBACoBC,EADpB,EACIC,eACgBC,EAFpB,EAEID,eAFJ,OAGMD,EAAIE,GAAM,EAAMF,EAAIE,EAAK,EAAI,KACnC3F,KAAI,SAAC9H,GAAD,OACJ,wBAAIwL,UAAU,WAAWvB,IAAKjK,EAAKP,KACjC,kBAAC,IAAD,CACEiO,OAAK,EACLlC,UAAU,WACVmC,gBAAgB,SAChBN,GAAIrN,EAAKP,KAERO,EAAK4N,qB,gCC9F5B,2FAqBe,SAASC,EAAT,GAA4B,IAAV/O,EAAS,EAATA,MACzBkK,EAASD,cACf,OACE,oCAEIC,GACA,kBAAC,IAAD,CACElK,MAAOkK,EACPwC,UAAU,eAEV,yBAAKA,UAAU,aACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAa7I,UAAU,KAAK7D,MAAOkK,EAAQoD,QAAQ,iBACnD,uBAAGZ,UAAU,QACX,kBAAC,IAAD,CACE7I,UAAU,MACV7D,MAAOkK,EACP8E,aAAa,MACb1B,QAAQ,eACR2B,IAAI,GACJvC,UAAU,eAGd,kBAAC,IAAD,CAAa7I,UAAU,IAAI7D,MAAOkK,EAAQoD,QAAQ,aAEpD,yBAAKZ,UAAU,oBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAa7I,UAAU,KAAK7D,MAAOkK,EAAQoD,QAAQ,sBACnD,kBAAC,IAAD,CACEzJ,UAAU,KACV6I,UAAU,gBACV1M,MAAOkK,EACPoD,QAAQ,eACRC,OAAQ,SAAC2B,GAAD,OAAkBA,EAAalG,KAAI,SAACyE,EAAM0B,GAAP,OACzC,kBAAC,IAAD,CACEhE,IAAKgE,EACLtL,UAAU,KACV7D,MAAOkK,EACPoD,QAAQ,eACRI,MAAOyB,GAEP,kBAAC,IAAD,CACEtL,UAAWyK,IACXtO,MAAOkK,EACPoD,QAAQ,0CACRI,MAAOyB,EACPH,aAAa,wBAMvB,yBAAKtC,UAAU,aACf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAa7I,UAAU,KAAK7D,MAAOkK,EAAQoD,QAAQ,uBACnD,kBAAC,IAAD,CACEzJ,UAAU,KACV6I,UAAU,8BACV1M,MAAOA,EACPsN,QAAQ,gBACRC,OAAQ,SAACC,GAAD,cAAiBA,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAaxE,KAAI,SAACyE,EAAMC,GAAP,OACxC,kBAAC,IAAD,CACE7J,UAAU,KACVsH,IAAKsC,EAAKE,gBACV3N,MAAOA,EACPsN,QAAQ,gBACRI,MAAOA,EACPH,OAAQ,SAACE,GAAD,OACN,uBAAGI,KAAMJ,EAAKK,MAAOvF,OAAO,SAASqF,IAAI,uBACvC,0BAAMlB,UAAS,gBAAWe,EAAKE,mBADjC,IACuDF,EAAK2B,uBAW9E,yBAAK1C,UAAU,OACb,yBACEA,UAAU,wBACV2C,wBAAyB,CAAEC,OAAQpF,EAAOqF,4B,qHCtF3C,SAASxP,EAAT,GAA0C,IAApBC,EAAmB,EAAnBA,MAAOwP,EAAY,EAAZA,SAAY,EAClCtL,cAAX2C,EAD6C,oBAC7CA,MACT,OACE,yBAAK6F,UAAS,qBAAgB7F,IAC5B,kBAAC,UAAD,CAAQ7G,MAAOA,IACf,yBAAK0M,UAAU,QACZ8C,GAEH,kBAAC,UAAD,CAAQxP,MAAOA,O,2ECTjByP,EAAQ,EAkCGC,IAhCf,SAAoBrP,GAClB,IAAMsP,EAAUC,cADS,EAEmCvP,EAApD4N,mBAFiB,MAEH,GAFG,IAEmC5N,EAAlC4I,UAFD,4BAEqBwG,KAFrB,EAGnB1B,EAAU8B,OAAOC,OAAO,CAC5B9B,KAAM,GACN+B,MAAO,GACPC,aAAc,IACb3P,EAAM0N,SAPgB,EAQClG,cARD,mBAQlBG,EARkB,KAQXI,EARW,KASzB,OACE,0BACEsE,UAAWqB,EAAQC,KACnBiC,SAAU,SAAC3H,GACTA,EAAE4H,iBACFlI,EAAMmI,QAAUR,EAAQS,KAAR,oBAA0BpI,MAG5C,yBAAK0E,UAAWqB,EAAQiC,cACtB,0BAAMtD,UAAU,sBAChB,2BACEzD,GAAIA,EACJoH,KAAK,OACLvJ,MAAOkB,EACPI,SAAUA,EACVsE,UAAWqB,EAAQgC,MACnB9B,YAAaA,Q,gCC/CvB,WAkBMjF,EAAM,CACV,cAAesH,gBAAK,kBAAM,uDAC1B,cAAeA,gBAAK,kBAAM,uDAC1B,gBAAiBA,gBAAK,kBAAM,iCAC5B,iBAAkBA,gBAAK,kBAAM,uDAC7B,eAAgBA,gBAAK,kBAAM,uDAC3B,oBAAqBA,gBAAK,kBAAM,2CAChC,oBAAqBA,gBAAK,kBAAM,2CAChC,iBAAkBA,gBAAK,kBAAM,kCAC7B,mBAAoBA,gBAAK,kBAAM,kCAC/B,gCAAiCA,gBAAK,kBAAM,kCAC5C,uBAAwBA,gBAAK,kBAAM,kCACnC,oBAAqBA,gBAAK,kBAAM,kCAChC,kBAAmBA,gBAAK,kBAAM,wDAGjBtH,O","file":"static/js/main.969ec664.chunk.js","sourcesContent":["/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport BaseLayout from '../shared/BaseLayout';\n\nexport default function NotFound({ meta: { levelDescriptor } }) {\n  return (\n    <BaseLayout model={levelDescriptor}>\n      <section style={{ textAlign: 'center', padding: '50px 0' }}>\n        <h1>Not Found</h1>\n        <p>The page you're looking for does not exist.</p>\n      </section>\n    </BaseLayout>\n  );\n}\n\nexport function NotDeveloped() {\n  return (\n    <section>\n      The page you've selected needs to be created by the site developers.\n    </section>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { fetchQuery } from '../fetchQuery';\nimport byUrlQuery from './queries.graphql';\nimport { parseDescriptor } from '@craftercms/content';\nimport { parse } from 'query-string';\nimport { isAuthoring } from './utils';\nimport { ContentType, Guest } from '@craftercms/studio-guest/react';\nimport contentTypeMap from './contentTypeMap';\nimport NotFound from '../pages/NotFound';\n\nconst limit = 8;\n\nexport default function DynamicRoute(props) {\n  const { match, location } = props;\n  const [state, setState] = useState(null);\n  let url = match.path.includes(':')\n    ? match.path.substring(0, match.path.indexOf(':') - 1)\n    : match.url;\n\n  useEffect(() => {\n    let destroyed = false;\n    let page = parseInt(parse(location.search).page ?? 1) - 1;\n    const pagination = { limit, offset: page ? (page * limit) : 0 };\n    fetchQuery(\n      { text: byUrlQuery },\n      {\n        url: `.*${url === '/' ? 'website/index' : url}.*`,\n        includePosts: true,\n        postsLimit: pagination.limit,\n        postsOffset: pagination.offset\n      }\n    ).then(({ data }) => {\n      if (!destroyed) {\n        const model = parseDescriptor(data.content.items?.[0]);\n        const levelDescriptor = parseDescriptor(\n          data.levelDescriptors.items\n            .filter(levelDescriptor => levelDescriptor.file__name === 'crafter-level-descriptor.level.xml')\n            .pop()\n        );\n\n        setState({\n          model,\n          meta: {\n            levelDescriptor,\n            disqus: {\n              websiteShortname: levelDescriptor.websiteShortname_s\n            },\n            posts: {\n              total: data.posts.total,\n              ...pagination\n            }\n          }\n        });\n        if (model) {\n          document.title = model.pageTitle_s ?? 'Wordify Crafter CMS';\n          if (model.pageDescription_s) {\n            const description = document.head.querySelector('meta[name=\"description\"]');\n            description && description.setAttribute('content', model.pageDescription_s ?? '');\n          }\n        }\n      }\n    });\n    return () => {\n      destroyed = true;\n    };\n  }, [url, location.search]);\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [url]);\n\n  if (state === null) {\n    return <CircularProgressSpinner />;\n  } else {\n    return (\n      <Guest\n        isAuthoring={isAuthoring()}\n        path={state.model?.craftercms.path}\n      >\n        <ContentType\n          {...state}\n          {...props}\n          contentTypeMap={contentTypeMap}\n          notFoundComponent={NotFound}\n        />\n      </Guest>\n    );\n  }\n\n}\n\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport DynamicRoute from './DynamicRoute';\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/category/:id?\" component={DynamicRoute} />\n        <Route path=\"/tag/:id?\" component={DynamicRoute} />\n        <Route path=\"/*\" component={DynamicRoute} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useGlobalContext } from './context';\nimport en from '../assets/locales/en';\nimport es from '../assets/locales/es';\n\nconst Locales = {\n  en,\n  es\n};\n\nconst AppIntl = (props) => {\n  const [{ locale }] = useGlobalContext();\n  return <IntlProvider {...props} locale={locale} messages={Locales[locale]}/>;\n};\n\nexport default AppIntl;","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Suspense } from 'react';\nimport Router from './Router';\nimport CircularProgressSpinner from './CircularProgressSpinner';\nimport { GlobalContextProvider } from './context';\nimport AppIntl from './AppIntl';\n\nexport default function App() {\n  return (\n    <GlobalContextProvider>\n      <AppIntl>\n        <Suspense\n          fallback={\n            <CircularProgressSpinner />\n          }\n        >\n          <Router />\n        </Suspense>\n      </AppIntl>\n    </GlobalContextProvider>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './shared/App';\nimport Cookies from 'js-cookie';\nimport { siteName } from './shared/utils';\n// import * as serviceWorker from './serviceWorker';\n\nif (Cookies.get('crafterSite') !== siteName) {\n  Cookies.set('crafterSite', siteName);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { crafterConf } from '@craftercms/classes';\nimport Cookies from 'js-cookie';\n\nexport function isAuthoring() {\n  const html = document.documentElement;\n  const attr = html.getAttribute('data-craftercms-preview');\n  return (\n    // eslint-disable-next-line no-template-curly-in-string\n    attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n    attr === 'true'\n  );\n}\n\nexport function createResource(factory) {\n  let result;\n  let status = \"pending\";\n  let suspender = factory().then(\n    response => {\n      status = \"success\";\n      result = response;\n    },\n    error => {\n      status = \"error\";\n      result = error;\n    }\n  );\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n  };\n}\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_CRAFTERCMS_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nexport const crafterConfig = {\n  baseUrl: process.env.REACT_APP_CRAFTERCMS_BASE_URL ?? '',\n  site: siteName\n};\n\ncrafterConf.configure(crafterConfig);\n\nexport function createTaxonomyFilter(name) {\n  return (taxonomy => taxonomy.craftercms.path.includes(name));\n};","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport { isAuthoring } from './utils';\nimport { useSpreadState } from './hooks';\n\nexport const GlobalContext = createContext();\n\nfunction useGlobalContext() {\n  const context = useContext(GlobalContext);\n  if (!context) {\n    throw new Error(`useGlobalContext must be used within a GlobalContextProvider`);\n  }\n  return context;\n}\n\nfunction GlobalContextProvider(props) {\n  const [state, setState] = useSpreadState({\n    isAuthoring: isAuthoring(),\n    locale: 'en',\n    pages: null,\n    pagesLoading: false,\n    theme: 'light'\n  });\n  const value = useMemo(() => [state, setState], [state, setState]);\n  return <GlobalContext.Provider value={value} {...props} />;\n}\n\nexport { GlobalContextProvider, useGlobalContext };\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { fetchQuery } from '../fetchQuery';\nimport { useGlobalContext } from './context';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { crafterConfig, createResource } from './utils';\nimport { map } from 'rxjs/operators';\nimport { createQuery, search } from '@craftercms/search';\nimport { parseDescriptor, preParseSearchResults } from '@craftercms/content';\nimport { postsQuery } from './queries.graphql';\n\nexport const neverResource = createResource(() => new Promise(() => void 0));\n\nconst reducer = (state, nextState) => {\n  return { ...state, ...nextState };\n}\n\nexport function useSpreadState(initializerArg, initializer) {\n  return useReducer(reducer, initializerArg, initializer);\n}\n\nexport function useNavigation() {\n  const [{ pages, pagesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n  useEffect(() => {\n    if (!pages && !pagesLoading) {\n      update({ pagesLoading: true });\n      fetchQuery({\n        text: `\n          query Nav {\n            pages {\n              total\n              items {\n                navLabel\n                contentTypeId: content__type\n                url: localId(transform: \"storeUrlToRenderUrl\")\n                placeInNav(filter: { equals: true }) @skip(if: true)\n                orderDefault_f\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ pages: data.pages.items });\n      });\n    }\n  }, [update, pages, pagesLoading]);\n  return pages;\n}\n\nexport function useSearchQuery() {\n  const { search } = useLocation();\n  const [query, setQuery] = useState(() => parse(search).q ?? '');\n  const [page, setPage] = useState(() => parse(search).p ?? 0);\n  const onChange = useCallback((e) => setQuery(e.target.value), []);\n  useEffect(() => {\n    setQuery(parse(search).q ?? '');\n    setPage(parse(search).p ?? 0);\n  }, [search]);\n\n  return [query, onChange, setQuery, page];\n}\n\nconst contentTypes = ['/component/post'];\nexport function useUrlSearchQueryFetchResource(size = 1) {\n  const [query, , , page] = useSearchQuery();\n  const [resource, setResource] = useState(neverResource);\n  // https://github.com/facebook/react/issues/14413\n  useEffect(() => {\n    // FYI: A GraphQL query could also be used instead of a direct Elasticsearch\n\n    const fields = ['headline_t^1.5', 'content_o.item.component.content_html^1'];\n    let searchQuery = {};\n    let userTerm = query;\n    searchQuery.filter = [\n      {\n        'terms': {\n          'content-type': contentTypes.map(id => id)\n        }\n      }\n    ];\n\n    if (userTerm) {\n      // Check if the user is requesting an exact match with quotes\n      const regex = /.*(\"([^\"]+)\").*/;\n      const matcher = userTerm.match(regex);\n      if (matcher) {\n        // Using must excludes any doc that doesn't match with the input from the user\n        searchQuery.must = [\n          {\n            'multi_match': {\n              'query': matcher[2],\n              'fields': fields,\n              'fuzzy_transpositions': false,\n              'auto_generate_synonyms_phrase_query': false\n            }\n          }\n        ];\n\n        // Remove the exact match to continue processing the user input\n        userTerm = userTerm.replace(matcher[1], '');\n      } else {\n        // Exclude docs that do not have any optional matches\n        searchQuery.minimum_should_match = 1;\n      }\n\n      if (userTerm) {\n        // Using should makes it optional and each additional match will increase the score of the doc\n        searchQuery.should = [\n          {\n            'multi_match': {\n              'query': userTerm,\n              'fields': fields,\n              'type': 'phrase_prefix',\n              'boost': 1.5\n            }\n          },\n          {\n            'multi_match': {\n              'query': userTerm,\n              'fields': fields\n            }\n          },\n          {\n            'match': {\n              'pageDescription_s': userTerm\n            }\n          },\n          {\n            'match': {\n              'categories_o.item.value_smv': userTerm\n            }\n          }\n        ]\n      }\n    }\n\n    setResource(createResource(\n      () => search(\n        createQuery('elasticsearch', {\n          query: {\n            'bool': searchQuery\n          },\n          size,\n          from: page\n        }),\n        crafterConfig\n      ).pipe(\n        map(({ hits, ...rest }) => {\n          const counted = {};\n          const parsedHits = hits.map(({ _source }) => parseDescriptor(\n            preParseSearchResults(_source)\n          )).filter((content) => {\n            // TODO: Search currently coming with duplicates. Should address at the elastic query level.\n            if (content.craftercms.id in counted) {\n              return false;\n            } else {\n              counted[content.craftercms.id] = true;\n              return true;\n            }\n          });\n          return { ...rest, hits: parsedHits };\n        })\n      ).toPromise()\n    ));\n  }, [query, page, size]);\n  return resource;\n}\n\nexport function useFooter() {\n  const [{ footer, footerLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!footer && !footerLoading) {\n      update({ footerLoading: true });\n      fetchQuery({\n        text: `\n          query Footer {\n            component_footer {\n              items {\n                guid: objectId\n                path: localId\n                contentTypeId: content__type\n                dateCreated: createdDate_dt\n                dateModified: lastModifiedDate_dt\n                label: internal__name              \n                aboutTitle_s\n                about_t\n                aboutImage_s\n                quickLinksTitle_s\n                socialLinksTitle_s\n                file__name(filter: {matches: \"site-footer.xml\"})\n                internal__name\n                localId\n                quickLinks_o {\n                  item {\n                    label_s\n                    url_s\n                  }\n                }\n                copyright_html_raw\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ footer: parseDescriptor(data.component_footer.items)[0] });\n      });\n    }\n  }, [update, footer, footerLoading]);\n  return footer;\n}\n\n// stores posts in globalContext to avoid multiple calls\nlet useRecentPostsLoading = false;\nexport function useRecentPosts() {\n  const [{ posts }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!posts && !useRecentPostsLoading) {\n      update({ postsLoading: true });\n      fetchQuery({\n        text: postsQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ posts: parseDescriptor(data.posts.items) });\n      });\n    }\n  }, [update, posts]);\n  return posts;\n}\n\nexport function usePosts(paginationData, categories, tags, exclude) {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    let categoriesFilter = categories\n      ? Array.isArray(categories)\n        ? categories.map(category => ({ matches: category.key }))\n        : [{ matches: categories.key }]\n      : [];\n    let tagsFilter = tags\n      ? Array.isArray(tags)\n        ? tags.map(tag => ({ matches: tag.key }))\n        : [{ matches: tags.key }]\n      : [];\n\n    fetchQuery(\n      { text: postsQuery },\n      {\n        postsLimit: paginationData.itemsPerPage,\n        postsOffset: (paginationData.currentPage * paginationData.itemsPerPage),\n        categoriesFilter,\n        tagsFilter,\n        exclude: exclude??\"\"\n      }\n    ).then(({ data }) => {\n      setPosts({\n        items: parseDescriptor(data.posts.items),\n        total: data.posts.total,\n        pageCount: Math.ceil(data.posts.total/paginationData.itemsPerPage)\n      });\n    });\n  }, [paginationData, categories, tags, exclude]);\n\n  return posts;\n}\n\nexport function useTaxonomiesResource() {\n  const [resource, setResource] = useState(neverResource);\n\n  useEffect(() => {\n    const resource = createResource(\n      () => fetchQuery({\n        text: `\n        query Taxonomies {\n          taxonomy {\n            total\n            items {\n              guid: objectId\n              path: localId\n              contentTypeId: content__type\n              dateCreated: createdDate_dt\n              dateModified: lastModifiedDate_dt\n              label: internal__name\n              items {\n                item {\n                  key\n                  value\n                  image_s\n                }\n              }\n            }\n          }\n        }\n      `\n      })\n    );\n    setResource(resource);\n  }, []);\n  return resource;\n}","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { siteName } from './shared/utils';\n\nlet graphqlServer = process.env.REACT_APP_GRAPHQL_SERVER;\nif (!graphqlServer.includes(siteName)) {\n  graphqlServer += `?crafterSite=${siteName}`;\n}\n\nexport function fetchQuery(\n  operation,\n  variables\n) {\n  return fetch(graphqlServer, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => response.json());\n}","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n// language=GraphQL\nconst commonFragments = `\n    fragment PostComponentFragment on component_post {\n        ...ContentItemFieldsFragment\n        slug: localId(transform: \"storeUrlToRenderUrl\")\n        pageTitle_s\n        pageDescription_s\n        blurb_t\n        headline_s\n        mainImage_s\n        content_o {\n            item {\n                key\n                component {\n                    ...on component_rich_text {\n                        ...RichTextComponentFragment\n                    }\n                    ...on component_image {\n                        ...ImageComponentFragment\n                    }\n                    ...on component_responsive_columns {\n                        ...ResponsiveColumnsComponentFragment\n                    }\n                }\n            }\n        }\n        authorBio_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        categories_o {\n            item {\n                key(filter: {or: $categoriesFilter})\n                value_smv\n            }\n        }\n        tags_o {\n            item {\n                value_smv\n                key(filter: {or: $tagsFilter})\n            }\n        }\n    }\n\n    fragment ContentItemFieldsFragment on ContentItem {\n        guid: objectId\n        path: localId(filter: {not: [{equals: $exclude}]})\n        contentTypeId: content__type\n        dateCreated: createdDate_dt\n        dateModified: lastModifiedDate_dt\n        label: internal__name\n    }\n\n    fragment BioComponentFragment on component_bio {\n        guid: objectId\n        contentTypeId: content__type\n        label: internal__name\n        path: localId\n        bio_t\n        name_s\n        profilePic_s\n        linkButtonText_s\n        linkButtonUrl_s\n        showLinkButton_b\n        facebookLink_s\n        twitterLink_s\n        instagramLink_s\n        youTubeLink_s\n    }\n\n    fragment RichTextComponentFragment on component_rich_text {\n        ...ContentItemFieldsFragment\n        content_html: content_html_raw\n    }\n\n    fragment ImageComponentFragment on component_image {\n        ...ContentItemFieldsFragment\n        image_s\n        alternativeText_s\n    }\n\n    fragment ResponsiveColumnsComponentFragment on component_responsive_columns {\n        ...ContentItemFieldsFragment\n        columns_o {\n            item {\n                columnSize_s\n                content_o {\n                    item {\n                        key\n                        component {\n                            ...on component_rich_text {\n                                ...RichTextComponentFragment\n                            }\n                            ...on component_image {\n                                ...ImageComponentFragment\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n\n// language=GraphQL\nconst main = `\n    ${commonFragments}\n\n    fragment HomepageFragment on page_entry  {\n        pageTitle_s\n        pageDescription_s\n        bios_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        slider_o {\n            item {\n                key\n                component {\n                    ...ContentItemFieldsFragment\n                    ...on component_slider {\n                        ...SliderComponentFragment\n                    }\n                }\n            }\n        }\n    }\n\n    fragment AboutPageFragment on page_about {\n        pageTitle_s\n        pageDescription_s\n        headline_s\n        bios_o {\n            item {\n                key\n                component {\n                    ...BioComponentFragment\n                }\n            }\n        }\n        content_o {\n            item {\n                key\n                component {\n                    ...on component_rich_text {\n                        ...RichTextComponentFragment\n                    }\n                    ...on component_image {\n                        ...ImageComponentFragment\n                    }\n                    ...on component_responsive_columns {\n                        ...ResponsiveColumnsComponentFragment\n                    }\n                }\n            }\n        }\n    }\n\n    fragment ContactPageFragment on page_contact {\n        pageTitle_s\n        pageDescription_s\n        message_t\n        headline_s\n    }\n\n    fragment CategoryPageFragment on page_category {\n        pageTitle_s\n        pageDescription_s\n    }\n\n    fragment SliderComponentFragment on component_slider {\n        ...ContentItemFieldsFragment\n        posts_o {\n            item {\n                key\n                component {\n                    ...ContentItemFieldsFragment\n                    slug: localId(transform: \"storeUrlToRenderUrl\")\n                    pageTitle_s\n                    pageDescription_s\n                    blurb_t\n                    headline_s\n                    mainImage_s\n                    authorBio_o {\n                        item {\n                            key,\n                            component {\n                                ...BioComponentFragment\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    query byUrlQuery(\n        $url: String\n        $skipContentType: Boolean = true\n        $includePosts: Boolean = true\n        $postsLimit: Int = 8\n        $postsOffset: Int = 0\n        $exclude: String = \"\"\n        $categoriesFilter: [TextFilters!] = []\n        $tagsFilter: [TextFilters!] = []\n    ) {\n        content: contentItems {\n            total\n            items {\n                ...ContentItemFieldsFragment\n                url: localId(\n                    transform: \"storeUrlToRenderUrl\",\n                    filter:{ regex: $url }\n                )\n                content__type(\n                    filter:{\n                        regex: \".*(bio|post|entry|category|contact|about|search).*\"\n                    }\n                ) @skip (if: $skipContentType)\n                ...on page_entry {\n                    ...HomepageFragment\n                }\n                ...on page_about {\n                    ...AboutPageFragment\n                }\n                ...on page_contact {\n                    ...ContactPageFragment\n                }\n                ...on page_category {\n                    ...CategoryPageFragment\n                }\n                ...on component_post {\n                    ...PostComponentFragment\n                }\n            }\n        }\n        levelDescriptors: component_level__descriptor {\n            items {\n                ...ContentItemFieldsFragment\n                siteTitle_s\n                file__name\n                websiteShortname_s\n                socialLinks_o {\n                    item {\n                        socialNetwork_s\n                        label_s\n                        url_s\n                    }\n                }\n            }\n        }\n        posts: component_post(\n            limit: $postsLimit,\n            offset: $postsOffset,\n            sortOrder: DESC,\n            sortBy: \"lastModifiedDate_dt\"\n        ) @include(if: $includePosts) {\n            total\n            items {\n                ...PostComponentFragment\n            }\n        }\n    }\n`;\n\n//language=GraphQL\nexport const postsQuery = `\n    ${commonFragments}\n\n    query postsQuery(\n        $postsLimit: Int = 8\n        $postsOffset: Int = 0\n        $exclude: String = \"\"\n        $categoriesFilter: [TextFilters!] = []\n        $tagsFilter: [TextFilters!] = []\n    ) {\n        posts: component_post(\n            limit: $postsLimit,\n            offset: $postsOffset,\n            sortOrder: DESC,\n            sortBy: \"lastModifiedDate_dt\"\n        ) {\n            total\n            items {\n                ...PostComponentFragment\n            }\n        }\n    }\n`;\n\nexport default main;\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function CircularProgressSpinner(props) {\n  const { message, screenHeight = true } = props;\n  return (\n    <div className={`circular-progress-spinner ${screenHeight ? 'circular-progress-spinner__screen-height' : ''}`}>\n      <div className=\"circular-progress-spinner--graphic-container\">\n        <svg className=\"circular-progress-spinner--graphic\">\n          <circle className=\"circular-progress-spinner--path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\n        </svg>\n      </div>\n      {\n        message &&\n        <p className=\"circular-progress-spinner--message\">{message}</p>\n      }\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useNavigation } from '../shared/hooks';\nimport SearchForm from '../shared/SearchForm';\nimport { RenderField } from '@craftercms/studio-guest/react';\n\nexport default function Header({ model }) {\n  const nav = useNavigation();\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const toggleNavBar = () => setShowMobileMenu(!showMobileMenu);\n  return (\n    <header role=\"banner\">\n      <div className=\"top-bar\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <RenderField\n              className=\"col-9 social\"\n              model={model}\n              fieldId=\"socialLinks_o\"\n              format={(socialLinks) => socialLinks?.map((link, index) =>\n                <RenderField\n                  component=\"a\"\n                  key={`${link.socialNetwork_s}_${index}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={link.url_s}\n                  model={model}\n                  fieldId=\"socialLinks_o\"\n                  index={index}\n                  format={(link) => <span className={`fa fa-${link.socialNetwork_s}`} />}\n                />\n              )}\n            />\n            <div className=\"col-3 search-top\">\n              <SearchForm\n                classes={{ form: 'search-top-form' }}\n                placeholder=\"Type keyword to search...\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"container logo-wrap\">\n        <div className=\"row pt-5\">\n          <div className=\"col-12 text-center\">\n            <a\n              className=\"absolute-toggle d-block d-md-none\"\n              data-toggle=\"collapse\"\n              href=\"#navbarMenu\"\n              onClick={toggleNavBar}\n              role=\"button\"\n              aria-expanded=\"false\"\n              aria-controls=\"navbarMenu\"\n            ><span className=\"burger-lines\"/></a>\n            <h1 className=\"site-logo\">\n              <RenderField model={model} fieldId=\"siteTitle_s\" component={Link} to=\"/\" />\n            </h1>\n          </div>\n        </div>\n      </div>\n      <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n        <div className=\"container\">\n          <div className={`collapse navbar-collapse ${showMobileMenu ? 'show' : ''}`} id=\"navbarMenu\">\n            <ul className=\"navbar-nav mx-auto\">\n              {\n                nav?.sort(\n                  (\n                    { orderDefault_f: a },\n                    { orderDefault_f: b }\n                  ) => (a < b) ? -1 : ((a > b) ? 1 : 0)\n                ).map((page) =>\n                  <li className=\"nav-item\" key={page.url}>\n                    <NavLink\n                      exact\n                      className=\"nav-link\"\n                      activeClassName=\"active\"\n                      to={page.url}\n                    >\n                      {page.navLabel}\n                    </NavLink>\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useFooter } from '../shared/hooks';\nimport { Field, RenderField } from '@craftercms/studio-guest/react';\n\nexport default function Footer({ model }) {\n  const footer = useFooter();\n  return (\n    <>\n      {\n        footer &&\n        <Field\n          model={footer}\n          className='site-footer'\n        >\n          <div className=\"container\">\n            <div className=\"row mb-5\">\n              <div className=\"col-md-4\">\n                <RenderField component=\"h3\" model={footer} fieldId=\"aboutTitle_s\" />\n                <p className=\"mb-4\">\n                  <RenderField\n                    component=\"img\"\n                    model={footer}\n                    renderTarget=\"src\"\n                    fieldId=\"aboutImage_s\"\n                    alt=\"\"\n                    className=\"img-fluid\"\n                  />\n                </p>\n                <RenderField component=\"p\" model={footer} fieldId=\"about_t\" />\n              </div>\n              <div className=\"col-md-6 ml-auto\">\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <RenderField component=\"h3\" model={footer} fieldId=\"quickLinksTitle_s\" />\n                    <RenderField\n                      component=\"ul\"\n                      className=\"list-unstyled\"\n                      model={footer}\n                      fieldId=\"quickLinks_o\"\n                      format={(quickLinks_o) => quickLinks_o.map((link, i) =>\n                        <Field\n                          key={i}\n                          component=\"li\"\n                          model={footer}\n                          fieldId=\"quickLinks_o\"\n                          index={i}\n                        >\n                          <RenderField\n                            component={Link}\n                            model={footer}\n                            fieldId=\"quickLinks_o.label_s,quickLinks_o.url_s\"\n                            index={i}\n                            renderTarget=\"children,to\"\n                          />\n                        </Field>\n                      )}\n                    />\n                  </div>\n                  <div className=\"col-md-1\"/>\n                  <div className=\"col-md-5\">\n                    <div className=\"mb-5\">\n                      <RenderField component=\"h3\" model={footer} fieldId=\"socialLinksTitle_s\" />\n                      <RenderField\n                        component=\"ul\"\n                        className=\"list-unstyled footer-social\"\n                        model={model}\n                        fieldId=\"socialLinks_o\"\n                        format={(socialLinks) => socialLinks?.map((link, index) =>\n                          <RenderField\n                            component=\"li\"\n                            key={link.socialNetwork_s}\n                            model={model}\n                            fieldId=\"socialLinks_o\"\n                            index={index}\n                            format={(link) =>\n                              <a href={link.url_s} target=\"_blank\" rel=\"noopener noreferrer\">\n                                <span className={`fa fa-${link.socialNetwork_s}`}/> {link.label_s}\n                              </a>\n                            }\n                          />\n                        )}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div\n                className=\"col-md-12 text-center\"\n                dangerouslySetInnerHTML={{ __html: footer.copyright_html_raw }}\n              />\n            </div>\n          </div>\n        </Field>\n      }\n    </>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport React from 'react';\nimport { useGlobalContext } from './context';\n\nexport default function BaseLayout({ model, children }) {\n  const [{ theme }] = useGlobalContext();\n  return (\n    <div className={`wrap theme-${theme}`}>\n      <Header model={model} />\n      <div className=\"wrap\">\n        {children}\n      </div>\n      <Footer model={model} />\n    </div>\n  );\n}\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSearchQuery } from './hooks';\n\nlet count = 0;\n\nfunction SearchForm(props) {\n  const history = useHistory();\n  const { placeholder = '', id = `searchInput_${count++}` } = props;\n  const classes = Object.assign({\n    form: '',\n    input: '',\n    inputWrapper: ''\n  }, props.classes);\n  const [query, onChange] = useSearchQuery();\n  return (\n    <form\n      className={classes.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        query.trim() && history.push(`/search?q=${query}`);\n      }}\n    >\n      <div className={classes.inputWrapper}>\n        <span className=\"icon fa fa-search\" />\n        <input\n          id={id}\n          type=\"text\"\n          value={query}\n          onChange={onChange}\n          className={classes.input}\n          placeholder={placeholder}\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","/*\n * Copyright (C) 2007-2020 Crafter Software Corporation. All Rights Reserved.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as published by\n * the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { lazy } from 'react';\n\nconst map = {\n  '/page/entry': lazy(() => import('../pages/Home')),\n  '/page/about': lazy(() => import('../pages/About')),\n  '/page/contact': lazy(() => import('../pages/Contact')),\n  '/page/category': lazy(() => import('../pages/Category')),\n  '/page/search': lazy(() => import('../pages/Search')),\n  '/component/header': lazy(() => import('../components/Header')),\n  '/component/footer': lazy(() => import('../components/Footer')),\n  '/component/bio': lazy(() => import('../components/Bio')),\n  '/component/image': lazy(() => import('../components/Image')),\n  '/component/responsive_columns': lazy(() => import('../components/ResponsiveColumns')),\n  '/component/rich_text': lazy(() => import('../components/RichText')),\n  '/component/slider': lazy(() => import('../components/Slider')),\n  '/component/post': lazy(() => import('../pages/Post'))\n};\n\nexport default map;"],"sourceRoot":""}