import{j as e,F as x,L as j,r as m,b as h,B as u,d as p,p as N,e as v,u as C}from"./index-f8ea171f.js";import{R as f,S as P,a as b}from"./SidebarTaxonomies-5084e647.js";import{P as y,L as S}from"./PostCard-6e9c9fe2.js";import{S as k,P as F}from"./Paginate-5f295fad.js";function D(n){const{model:s,category:a,isTag:l}=n,o=l?"tag":"category";return e.jsxs(x,{component:j,model:s,to:`/${o}/${a.key}`,className:"blog-entry category-card",children:[a.image_s&&e.jsx("img",{className:"background",src:a.image_s,alt:a.value}),e.jsx("h2",{className:"title",children:a.value})]})}function L({resource:n,isTag:s,categoryId:a}){const{data:l}=n.read(),t=N(l.taxonomy.items).filter(v(s?"tags.xml":"categories.xml"))[0];let c;const[d,g]=m.useState({itemsPerPage:8,currentPage:0});a&&(c=t==null?void 0:t.items.item.filter(r=>r.key===a)[0]);const i=C(d,c);return e.jsx(e.Fragment,{children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("h2",{className:"mb-4",children:[s?"Tag":"Category",": ",c==null?void 0:c.value]})}),e.jsxs("div",{className:"col-md-12 col-lg-8 main-content",children:[e.jsx("div",{className:"row mb-5 mt-5",children:e.jsx("div",{className:"col-md-12",children:i==null?void 0:i.items.map(r=>e.jsx(y,{model:r,render:S},r.craftercms.id))})}),(i==null?void 0:i.pageCount)>1&&e.jsx("div",{className:"row mt-5",children:e.jsx("div",{className:"col-md-12 text-center",children:e.jsx("nav",{"aria-label":"Categories navigation",className:"text-center",children:e.jsx(F,{pageCount:i.pageCount,onPageChange:r=>g({...d,currentPage:r*d.itemsPerPage})})})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("h2",{className:"mb-4",children:[s?"Tags":"Categories",":"]})}),e.jsx("div",{className:"col-md-12 col-lg-8",children:e.jsx(x,{model:t,className:"row",children:t==null?void 0:t.items.item.map(r=>e.jsx("div",{className:"col-md-6 mb-4",children:e.jsx(D,{model:t,category:r,isTag:s})},r.key))})})]})})}function A(n){const{match:s,meta:{levelDescriptor:a}}=n,l=s.path==="/tag/:id?",[o,t]=m.useState();let c=h();return m.useEffect(()=>{t(s.params.id)},[s.params,s.path]),e.jsx(u,{model:a,children:e.jsx("section",{className:"site-section pt-5",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row blog-entries",children:[e.jsx(m.Suspense,{fallback:e.jsx(p,{screenHeight:!1}),children:e.jsx(L,{resource:c,categoryId:o,isTag:l})}),e.jsxs("div",{className:"col-md-12 col-lg-4 sidebar",children:[e.jsx(k,{}),e.jsx(f,{}),e.jsx(P,{}),e.jsx(b,{})]})]})})})})}export{A as default};
