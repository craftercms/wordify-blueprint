import{r as h,j as s,l as N,u as v,B as _,R as l,F as C,C as P,m as S}from"./index-402d5ccc.js";import{R as I,S as b,a as y}from"./SidebarTaxonomies-249a9139.js";import{P as q,I as E}from"./PostCard-c660943f.js";import{S as D,P as w}from"./Paginate-f489a003.js";import{S as B}from"./SidebarBios-52d30685.js";import"./Bio-1fec03b6.js";const R=({id:c,websiteShortname:e})=>(h.useEffect(()=>{const n="disq_script";if(document.getElementById(n))window.DISQUS.reset({reload:!0,config:o});else{var o=function(){this.page.url=window.location.origin,this.page.identifier=c};const t=document,r=t.createElement("script");r.src=`https://${e??"DISQUS"}.disqus.com/embed.js`,r.id=n,r.async=!0,r.setAttribute("data-timestamp",+new Date),t.body.appendChild(r)}},[c,e]),s.jsxs(s.Fragment,{children:[s.jsx("div",{id:"disqus_recommendations"}),"   ",s.jsx("div",{id:"disqus_thread",className:"mt-5"})]})),T=({id:c,websiteShortname:e})=>(h.useEffect(()=>{const n="dsq-count-scr";if(!document.getElementById(n)){const o=document,t=o.createElement("script");t.src=`https://${e??"DISQUS"}.disqus.com/count.js`,t.id=n,t.async=!0,o.body.appendChild(t)}},[c,e]),s.jsx("span",{className:"disqus-comment-count","data-disqus-identifier":c,"data-disqus-url":window.location.origin}));function G(c){var u,j,x,g,p;const{model:e,meta:{levelDescriptor:n,disqus:{websiteShortname:m}}}=c,{formatDate:o}=N.useIntl(),[t,r]=h.useState({itemsPerPage:10,currentPage:0}),i=v(t,e.categories_o,e.tags_o,e.craftercms.path);return s.jsxs(_,{model:n,children:[s.jsx("section",{className:"site-section py-lg",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"row blog-entries element-animate-disabled",children:[s.jsxs("div",{className:"col-md-12 col-lg-8 main-content",children:[s.jsx(l,{component:"img",model:e,fieldId:"mainImage_s",renderTarget:"src",alt:"",className:"img-fluid mb-5"}),s.jsxs("div",{className:"post-meta",children:[s.jsxs("span",{className:"author mr-2",children:[s.jsx("img",{src:e.authorBio_o[0].profilePic_s,alt:"",className:"mr-2"})," ",e.authorBio_o[0].name_s]})," • ",s.jsx("span",{className:"mr-2",children:o(e.craftercms.dateCreated)})," • ",s.jsx("span",{className:"ml-2",children:s.jsx("span",{className:"fa fa-comments mr-2"})}),s.jsx(T,{id:e.craftercms.id,websiteShortname:m})]}),s.jsx(l,{component:"h1",model:e,fieldId:"headline_s",className:"mb-4"}),(u=e.categories_o)==null?void 0:u.map(a=>s.jsx("a",{className:"category mb-5",href:`/category/${a.key}`,children:a.value_smv},a.key)),s.jsx(l,{model:e,component:"div",fieldId:"content_o",className:"post-content-body",render:a=>a==null?void 0:a.map((d,f)=>s.jsx(C,{model:e,index:f,fieldId:"content_o",children:s.jsx(P,{model:d,contentTypeMap:S})},`${d.craftercms.id}_${f}`))}),s.jsxs("div",{className:"pt-5",children:[((j=e.categories_o)==null?void 0:j.length)>0&&s.jsxs("div",{children:["Categories:",(x=e.categories_o)==null?void 0:x.map((a,d)=>s.jsxs("a",{href:`/category/${a.key}`,children:[a.value_smv,e.categories_o.length===d+1?"":","]},a.key))]}),((g=e.tags_o)==null?void 0:g.length)>0&&s.jsxs("div",{children:["Tags:",(p=e.tags_o)==null?void 0:p.map((a,d)=>s.jsxs("a",{href:`/tag/${a.key}`,children:["#",a.value_smv,e.tags_o.length===d+1?"":","]},a.key))]})]}),m&&s.jsx(R,{id:e.craftercms.id,websiteShortname:m})]}),s.jsxs("div",{className:"col-md-12 col-lg-4 sidebar",children:[s.jsx(D,{}),s.jsx(B,{model:e,fieldId:"authorBio_o"}),s.jsx(I,{}),s.jsx(b,{}),s.jsx(y,{})]})]})})}),s.jsx("section",{className:"py-5",children:s.jsx("div",{className:"container",children:i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-md-12",children:s.jsx("h2",{className:"mb-3",children:"Related Posts"})})}),s.jsx("div",{className:"row",children:i==null?void 0:i.items.map(a=>s.jsx("div",{className:"col-md-6 col-lg-4",children:s.jsx(q,{model:a,render:E,classes:{root:"sm height-md"}})},a.craftercms.id))}),(i==null?void 0:i.pageCount)>1&&s.jsx("nav",{"aria-label":"Posts navigation",className:"text-center",children:s.jsx(w,{pageCount:i.pageCount,onPageChange:a=>r({...t,currentPage:a*t.itemsPerPage})})})]})})})]})}export{G as default};
